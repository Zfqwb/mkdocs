{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-\\.]+"},"docs":[{"location":"","text":"Java Docs nitto \u57fa\u7840\u9762\u8bd5\u9898 \u00b6 1-map\u96c6\u5408\u7684\u904d\u5386\u65b9\u5f0f \u00b6 2-1-HasMap\u7684\u7279\u6027 \u00b6 2-2-HasMap\u96c6\u5408\u7684\u6269\u5c55 \u00b6 3-1-Java\u865a\u62df\u673a\u4e2d\u7684\u5185\u5b58\u6a21\u578b \u00b6 3-2-\u7ebf\u7a0b\u5185\u5b58\u7a7a\u95f4\uff08\u6269\u5c55\uff09 \u00b6 4-\u7b80\u5355\u8bf4\u8bf4Java\u4e2d\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236\u7684\u7b80\u5355\u539f\u7406\u548c\u5e94\u7528\u3002 \u00b6 5-\u521b\u5efa\u7ebf\u7a0b\u7684\u51e0\u79cd\u65b9\u5f0f\uff1f \u00b6 6-\u8c08\u8c08\u4f60\u5bf9\u5783\u573e\u56de\u6536\u673a\u5236\u7684\u4e86\u89e3\uff1f \u00b6 7-\u8bf4\u8bf4HashCode\uff08\uff09\u3001equals\uff08\uff09\u7684\u533a\u522b\uff1f \u00b6 8-String.StirngBuilder\uff0cStringBuffer\u4e09\u8005\u7684\u533a\u522b \u00b6 9-\u662f\u5426\u53ef\u4ee5\u4ece\u4e00\u4e2astatic\u65b9\u6cd5\u5185\u90e8\u53d1\u51fa\u5bf9\u975estatio\u65b9\u6cd5\u7684\u8c03\u7528 \u00b6 10-wait\u65b9\u6cd5\u548csleep\u65b9\u6cd5\u7684\u533a\u522b \u00b6 11-\u95ee\u9898\u6269\u5c55\u5e94\u7528\u573a\u666f \u00b6 12-Strings=new String\uff08xyz\uff09\uff1a\u521b\u5efa\u4e86\u51e0\u4e2aStringobject\uff1f\u662f\u5426\u53ef\u4ee5\u7ee7\u627fString\u7c7b\uff1f \u00b6 13-\u591a\u7ebf\u7a0b\u4e2d\u89e3\u51b3\u540c\u6b65\u95ee\u9898\u7684\u65b9\u5f0f \u00b6 14-Strings=Hello\uff1bs=s+world.\uff1a\u8fd9\u4e24\u884c\u4ee3\u7801\u6267\u884c\u540e\uff0c\u539f\u59cb\u7684String\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u5230\u5e95\u53d8\u4e86\u6ca1\u6709\uff1f \u00b6 15-HaslMap\u548cHashtable\u7684\u533a\u522b \u00b6 16-\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u61d2\u6c49\u5f0f\u548c\u997f\u6c49\u5f0f\u7684\u533a\u522b \u00b6 17-\u7c7b\u52a0\u8f7d\u673a\u5236\u6709\u4e86\u89e3\u5417 \u00b6 JavaWeb\u9762\u8bd5\u9898 \u00b6 git clone https://github.com/peaceiris/mkdocs-material-boilerplate.git cd mkdocs-material-boilerplate pipenv sync --dev pipenv shell inv serve --config-file mkdocs-sample.yml \u6846\u67b6\u9762\u8bd5\u9898 \u00b6 mkdocs/mkdocs: Project documentation with Markdown - GitHub squidfunk/mkdocs-material: A Material Design theme for MkDocs \u9879\u76ee\u9762\u8bd5\u9898 \u00b6 MIT License The graduate cap icon made by Freepik from www.flaticon.com is licensed by CC 3.0 BY","title":"Home"},{"location":"#_1","text":"","title":"\u57fa\u7840\u9762\u8bd5\u9898"},{"location":"#1-map","text":"","title":"1-map\u96c6\u5408\u7684\u904d\u5386\u65b9\u5f0f"},{"location":"#2-1-hasmap","text":"","title":"2-1-HasMap\u7684\u7279\u6027"},{"location":"#2-2-hasmap","text":"","title":"2-2-HasMap\u96c6\u5408\u7684\u6269\u5c55"},{"location":"#3-1-java","text":"","title":"3-1-Java\u865a\u62df\u673a\u4e2d\u7684\u5185\u5b58\u6a21\u578b"},{"location":"#3-2-","text":"","title":"3-2-\u7ebf\u7a0b\u5185\u5b58\u7a7a\u95f4\uff08\u6269\u5c55\uff09"},{"location":"#4-java","text":"","title":"4-\u7b80\u5355\u8bf4\u8bf4Java\u4e2d\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236\u7684\u7b80\u5355\u539f\u7406\u548c\u5e94\u7528\u3002"},{"location":"#5-","text":"","title":"5-\u521b\u5efa\u7ebf\u7a0b\u7684\u51e0\u79cd\u65b9\u5f0f\uff1f"},{"location":"#6-","text":"","title":"6-\u8c08\u8c08\u4f60\u5bf9\u5783\u573e\u56de\u6536\u673a\u5236\u7684\u4e86\u89e3\uff1f"},{"location":"#7-hashcodeequals","text":"","title":"7-\u8bf4\u8bf4HashCode\uff08\uff09\u3001equals\uff08\uff09\u7684\u533a\u522b\uff1f"},{"location":"#8-stringstirngbuilderstringbuffer","text":"","title":"8-String.StirngBuilder\uff0cStringBuffer\u4e09\u8005\u7684\u533a\u522b"},{"location":"#9-staticstatio","text":"","title":"9-\u662f\u5426\u53ef\u4ee5\u4ece\u4e00\u4e2astatic\u65b9\u6cd5\u5185\u90e8\u53d1\u51fa\u5bf9\u975estatio\u65b9\u6cd5\u7684\u8c03\u7528"},{"location":"#10-waitsleep","text":"","title":"10-wait\u65b9\u6cd5\u548csleep\u65b9\u6cd5\u7684\u533a\u522b"},{"location":"#11-","text":"","title":"11-\u95ee\u9898\u6269\u5c55\u5e94\u7528\u573a\u666f"},{"location":"#12-stringsnew_stringxyzstringobjectstring","text":"","title":"12-Strings=new String\uff08xyz\uff09\uff1a\u521b\u5efa\u4e86\u51e0\u4e2aStringobject\uff1f\u662f\u5426\u53ef\u4ee5\u7ee7\u627fString\u7c7b\uff1f"},{"location":"#13-","text":"","title":"13-\u591a\u7ebf\u7a0b\u4e2d\u89e3\u51b3\u540c\u6b65\u95ee\u9898\u7684\u65b9\u5f0f"},{"location":"#14-stringshellossworldstring","text":"","title":"14-Strings=Hello\uff1bs=s+world.\uff1a\u8fd9\u4e24\u884c\u4ee3\u7801\u6267\u884c\u540e\uff0c\u539f\u59cb\u7684String\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u5230\u5e95\u53d8\u4e86\u6ca1\u6709\uff1f"},{"location":"#15-haslmaphashtable","text":"","title":"15-HaslMap\u548cHashtable\u7684\u533a\u522b"},{"location":"#16-","text":"","title":"16-\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u61d2\u6c49\u5f0f\u548c\u997f\u6c49\u5f0f\u7684\u533a\u522b"},{"location":"#17-","text":"","title":"17-\u7c7b\u52a0\u8f7d\u673a\u5236\u6709\u4e86\u89e3\u5417"},{"location":"#javaweb","text":"git clone https://github.com/peaceiris/mkdocs-material-boilerplate.git cd mkdocs-material-boilerplate pipenv sync --dev pipenv shell inv serve --config-file mkdocs-sample.yml","title":"JavaWeb\u9762\u8bd5\u9898"},{"location":"#_2","text":"mkdocs/mkdocs: Project documentation with Markdown - GitHub squidfunk/mkdocs-material: A Material Design theme for MkDocs","title":"\u6846\u67b6\u9762\u8bd5\u9898"},{"location":"#_3","text":"MIT License The graduate cap icon made by Freepik from www.flaticon.com is licensed by CC 3.0 BY","title":"\u9879\u76ee\u9762\u8bd5\u9898"},{"location":"M/","text":"Material for MkDocs \u00b6 MkDocs \u00b6 mkdocs/mkdocs: Project documentation with Markdown - GitHub Material for MkDocs \u00b6 squidfunk/mkdocs-material: A Material Design theme for MkDocs","title":"Material for MkDocs"},{"location":"M/#material_for_mkdocs","text":"","title":"Material for MkDocs"},{"location":"M/#mkdocs","text":"mkdocs/mkdocs: Project documentation with Markdown - GitHub","title":"MkDocs"},{"location":"M/#material_for_mkdocs_1","text":"squidfunk/mkdocs-material: A Material Design theme for MkDocs","title":"Material for MkDocs"},{"location":"MySQL/","text":"MySQL \u53c2\u8003\u624b\u518c \u00b6 Reference Manual day01 \u00b6 01\u64cd\u4f5c\u6570\u636e\u5e93\u548c\u6570\u636e\u8868 \u00b6 \u67e5\u8be2\u6240\u6709\u6570\u636e\u5e93 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW DATABASES; */ \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0; */ \u521b\u5efa\u6570\u636e\u5e93 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0; */ \u521b\u5efa\u6570\u636e\u5e93\uff0c\u5224\u65ad\u3001\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE IF NOT EXISTS \u6570\u636e\u5e93\u540d\u79f0; */ \u521b\u5efa\u6570\u636e\u5e93\u3001\u5e76\u6307\u5b9a\u5b57\u7b26\u96c6 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0 CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */ \u67e5\u770b\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6 \u00b6 SHOW CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0 ; \u4fee\u6539\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER DATABASE \u6570\u636e\u5e93\u540d\u79f0 CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */ \u5220\u9664\u6570\u636e\u5e93 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DROP DATABASE \u6570\u636e\u5e93\u540d\u79f0; */ \u5220\u9664\u6570\u636e\u5e93\uff0c\u5224\u65ad\u3001\u5982\u679c\u5b58\u5728\u5219\u5220\u9664 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DROP DATABASE IF EXISTS \u6570\u636e\u5e93\u540d\u79f0; */ \u4f7f\u7528\u6570\u636e\u5e93 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a USE \u6570\u636e\u5e93\u540d\u79f0; */ \u67e5\u8be2\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT DATABASE(); */ \u67e5\u8be2\u6240\u6709\u6570\u636e\u8868 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW TABLES; */ \u67e5\u8be2\u8868\u7ed3\u6784 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DESC \u8868\u540d; */ \u67e5\u8be2\u6570\u636e\u8868\u7684\u5b57\u7b26\u96c6 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0 LIKE '\u8868\u540d'; */ \u521b\u5efa\u6570\u636e\u8868 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE TABLE \u8868\u540d( \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f, \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f, ... \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f ); */ \u4fee\u6539\u8868\u540d \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u65e7\u8868\u540d RENAME TO \u65b0\u8868\u540d; */ \u4fee\u6539\u8868\u7684\u5b57\u7b26\u96c6 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */ \u7ed9\u8868\u6dfb\u52a0\u5217 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD \u5217\u540d \u6570\u636e\u7c7b\u578b; */ \u4fee\u6539\u8868\u4e2d\u5217\u7684\u6570\u636e\u7c7b\u578b \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d MODIFY \u5217\u540d \u6570\u636e\u7c7b\u578b; */ \u4fee\u6539\u8868\u4e2d\u5217\u7684\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d CHANGE \u65e7\u5217\u540d \u65b0\u5217\u540d \u6570\u636e\u7c7b\u578b; */ \u5220\u9664\u8868\u4e2d\u7684\u5217 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP \u5217\u540d; */ \u5220\u9664\u8868 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DROP TABLE \u8868\u540d; */ \u5220\u9664\u8868\uff0c\u5224\u65ad\u3001\u5982\u679c\u5b58\u5728\u5219\u5220\u9664 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DROP TABLE IF EXISTS \u8868\u540d; */ 02\u8868\u6570\u636e\u7684\u589e\u5220\u6539 \u00b6 \u7ed9\u6307\u5b9a\u5217\u6dfb\u52a0\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d(\u5217\u540d1,\u5217\u540d2,...) VALUES (\u503c1,\u503c2,...); */ \u7ed9\u5168\u90e8\u5217\u6dfb\u52a0\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d VALUES (\u503c1,\u503c2,\u503c3,...); */ \u6279\u91cf\u6dfb\u52a0\u6240\u6709\u5217\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d VALUES (\u503c1,\u503c2,\u503c3,...),(\u503c1,\u503c2,\u503c3,...),(\u503c1,\u503c2,\u503c3,...); */ \u4fee\u6539\u8868\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a UPDATE \u8868\u540d SET \u5217\u540d1 = \u503c1,\u5217\u540d2 = \u503c2,... [where \u6761\u4ef6]; */ \u5220\u9664\u8868\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a DELETE FROM \u8868\u540d [WHERE \u6761\u4ef6]; */ 03\u8868\u6570\u636e\u7684\u67e5\u8be2 \u00b6 \u67e5\u8be2\u5168\u90e8\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT * FROM \u8868\u540d; */ \u67e5\u8be2\u6307\u5b9a\u5217 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1,\u5217\u540d2,... FROM \u8868\u540d; */ \u53bb\u9664\u91cd\u590d\u67e5\u8be2 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT DISTINCT \u5217\u540d1,\u5217\u540d2,... FROM \u8868\u540d; */ \u8ba1\u7b97\u5217\u7684\u503c \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1 \u8fd0\u7b97\u7b26(+ - * /) \u5217\u540d2 FROM \u8868\u540d; \u5982\u679c\u67d0\u4e00\u5217\u4e3anull\uff0c\u53ef\u4ee5\u8fdb\u884c\u66ff\u6362 ifnull(\u8868\u8fbe\u5f0f1,\u8868\u8fbe\u5f0f2) \u8868\u8fbe\u5f0f1\uff1a\u60f3\u66ff\u6362\u7684\u5217 \u8868\u8fbe\u5f0f2\uff1a\u60f3\u66ff\u6362\u7684\u503c */ example -- \u67e5\u8be2\u5546\u54c1\u540d\u79f0\u548c\u5e93\u5b58\uff0c\u5e93\u5b58\u6570\u91cf\u5728\u539f\u6709\u57fa\u7840\u4e0a\u52a010 SELECT NAME,stock+10 FROM product; -- \u67e5\u8be2\u5546\u54c1\u540d\u79f0\u548c\u5e93\u5b58\uff0c\u5e93\u5b58\u6570\u91cf\u5728\u539f\u6709\u57fa\u7840\u4e0a\u52a010\u3002\u8fdb\u884cnull\u503c\u5224\u65ad SELECT NAME,IFNULL(stock,0)+10 FROM product; \u8d77\u522b\u540d \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1,\u5217\u540d2,... AS \u522b\u540d FROM \u8868\u540d; */ as\u53ef\u4ee5\u7701\u7565 \u6761\u4ef6\u67e5\u8be2 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d\u5217\u8868 FROM \u8868\u540d WHERE \u6761\u4ef6; */ example -- \u67e5\u8be2\u5e93\u5b58\u5927\u4e8e20\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock > 20; -- \u67e5\u8be2\u54c1\u724c\u4e3a\u534e\u4e3a\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE brand='\u534e\u4e3a'; -- \u67e5\u8be2\u91d1\u989d\u57284000 ~ 6000\u4e4b\u95f4\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE price >= 4000 AND price <= 6000; SELECT * FROM product WHERE price BETWEEN 4000 AND 6000; -- \u67e5\u8be2\u5e93\u5b58\u4e3a14\u300130\u300123\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock=14 OR stock=30 OR stock=23; SELECT * FROM product WHERE stock IN(14,30,23); -- \u67e5\u8be2\u5e93\u5b58\u4e3anull\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock IS NULL; -- \u67e5\u8be2\u5e93\u5b58\u4e0d\u4e3anull\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock IS NOT NULL; -- \u67e5\u8be2\u540d\u79f0\u4ee5\u5c0f\u7c73\u4e3a\u5f00\u5934\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '\u5c0f\u7c73%'; -- \u67e5\u8be2\u540d\u79f0\u7b2c\u4e8c\u4e2a\u5b57\u662f\u4e3a\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '_\u4e3a%'; -- \u67e5\u8be2\u540d\u79f0\u4e3a\u56db\u4e2a\u5b57\u7b26\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '____'; -- \u67e5\u8be2\u540d\u79f0\u4e2d\u5305\u542b\u7535\u8111\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '%\u7535\u8111%'; \u805a\u5408\u51fd\u6570 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u51fd\u6570\u540d(\u5217\u540d) FROM \u8868\u540d [WHERE \u6761\u4ef6]; */ example -- \u8ba1\u7b97product\u8868\u4e2d\u603b\u8bb0\u5f55\u6761\u6570 SELECT COUNT(*) FROM product; -- \u83b7\u53d6\u6700\u9ad8\u4ef7\u683c SELECT MAX(price) FROM product; -- \u83b7\u53d6\u6700\u4f4e\u5e93\u5b58 SELECT MIN(stock) FROM product; -- \u83b7\u53d6\u603b\u5e93\u5b58\u6570\u91cf SELECT SUM(stock) FROM product; -- \u83b7\u53d6\u54c1\u724c\u4e3a\u82f9\u679c\u7684\u603b\u5e93\u5b58\u6570\u91cf SELECT SUM(stock) FROM product WHERE brand='\u82f9\u679c'; -- \u83b7\u53d6\u54c1\u724c\u4e3a\u5c0f\u7c73\u7684\u5e73\u5747\u5546\u54c1\u4ef7\u683c SELECT AVG(price) FROM product WHERE brand='\u5c0f\u7c73'; \u6392\u5e8f\u67e5\u8be2 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] ORDER BY \u5217\u540d1 \u6392\u5e8f\u65b9\u5f0f1,\u5217\u540d2 \u6392\u5e8f\u65b9\u5f0f2; */ example -- \u6309\u7167\u5e93\u5b58\u5347\u5e8f\u6392\u5e8f SELECT * FROM product ORDER BY stock ASC; -- \u67e5\u8be2\u540d\u79f0\u4e2d\u5305\u542b\u624b\u673a\u7684\u5546\u54c1\u4fe1\u606f\u3002\u6309\u7167\u91d1\u989d\u964d\u5e8f\u6392\u5e8f SELECT * FROM product WHERE NAME LIKE '%\u624b\u673a%' ORDER BY price DESC; -- \u6309\u7167\u91d1\u989d\u5347\u5e8f\u6392\u5e8f\uff0c\u5982\u679c\u91d1\u989d\u76f8\u540c\uff0c\u6309\u7167\u5e93\u5b58\u964d\u5e8f\u6392\u5217 SELECT * FROM product ORDER BY price ASC,stock DESC; \u5206\u7ec4\u67e5\u8be2 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] GROUP BY \u5206\u7ec4\u5217\u540d [HAVING \u5206\u7ec4\u540e\u6761\u4ef6\u8fc7\u6ee4] [ORDER BY \u6392\u5e8f\u5217\u540d \u6392\u5e8f\u65b9\u5f0f]; */ \u5206\u9875\u67e5\u8be2 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] [GROUP BY \u5206\u7ec4\u5217\u540d] [HAVING \u5206\u7ec4\u540e\u6761\u4ef6\u8fc7\u6ee4] [ORDER BY \u6392\u5e8f\u5217\u540d \u6392\u5e8f\u65b9\u5f0f] LIMIT \u5f53\u524d\u9875\u6570,\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570; LIMIT \u5f53\u524d\u9875\u6570,\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570; \u516c\u5f0f\uff1a\u5f53\u524d\u9875\u6570 = (\u5f53\u524d\u9875\u6570-1) * \u6bcf\u9875\u663e\u793a\u7684\u6761\u6570 */ example -- \u6bcf\u9875\u663e\u793a3\u6761\u6570\u636e -- \u7b2c1\u9875 \u5f53\u524d\u9875\u6570=(1-1) * 3 SELECT * FROM product LIMIT 0,3; -- \u7b2c2\u9875 \u5f53\u524d\u9875\u6570=(2-1) * 3 SELECT * FROM product LIMIT 3,3; -- \u7b2c3\u9875 \u5f53\u524d\u9875\u6570=(3-1) * 3 SELECT * FROM product LIMIT 6,3; 04\u7ea6\u675f \u00b6 \u4e3b\u952e\u7ea6\u675f \u00b6 -- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e CREATE TABLE student( id INT PRIMARY KEY, NAME VARCHAR(30), age INT ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (1,'\u5f20\u4e09',23); INSERT INTO student VALUES (2,'\u674e\u56db',24); -- \u5220\u9664\u4e3b\u952e ALTER TABLE student DROP PRIMARY KEY; -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u4e3b\u952e\u7ea6\u675f ALTER TABLE student MODIFY id INT PRIMARY KEY; \u4e3b\u952e\u81ea\u589e\u7ea6\u675f \u00b6 -- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30), age INT ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23),(NULL,'\u674e\u56db',24); -- \u5220\u9664\u81ea\u589e\u7ea6\u675f ALTER TABLE student MODIFY id INT; INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u81ea\u589e\u7ea6\u675f ALTER TABLE student MODIFY id INT AUTO_INCREMENT; \u552f\u4e00\u7ea6\u675f \u00b6 -- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e\uff0c\u5e74\u9f84\u8bbe\u4e3a\u552f\u4e00 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30), age INT UNIQUE ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); INSERT INTO student VALUES (NULL,'\u674e\u56db',23); -- \u5220\u9664\u552f\u4e00\u7ea6\u675f ALTER TABLE student DROP INDEX age; -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u552f\u4e00\u7ea6\u675f ALTER TABLE student MODIFY age INT UNIQUE; \u975e\u7a7a\u7ea6\u675f \u00b6 -- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e\uff0c\u59d3\u540d\u8bbe\u4e3a\u975e\u7a7a\uff0c\u5e74\u9f84\u8bbe\u4e3a\u552f\u4e00 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30) NOT NULL, age INT UNIQUE ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); -- \u5220\u9664\u975e\u7a7a\u7ea6\u675f ALTER TABLE student MODIFY NAME VARCHAR(30); INSERT INTO student VALUES (NULL,NULL,25); -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u975e\u7a7a\u7ea6\u675f ALTER TABLE student MODIFY NAME VARCHAR(30) NOT NULL; day02 \u00b6 01\u7ea6\u675f \u00b6 \u5916\u952e\u7ea6\u675f \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u8868\u4e3b\u952e\u5217\u540d) */ \u5220\u9664\u5916\u952e\u7ea6\u675f \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP FOREIGN KEY \u5916\u952e\u540d; */ \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u5916\u952e\u7ea6\u675f \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); */ \u5916\u952e\u7ea6\u675fexample -- \u521b\u5efadb2\u6570\u636e\u5e93 CREATE DATABASE db2; -- \u4f7f\u7528db2\u6570\u636e\u5e93 USE db2; /* \u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u8868\u4e3b\u952e\u5217\u540d) */ -- \u5efa\u8868\u65f6\u6dfb\u52a0\u5916\u952e\u7ea6\u675f -- \u521b\u5efauser\u7528\u6237\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- id NAME VARCHAR(20) NOT NULL -- \u59d3\u540d ); -- \u6dfb\u52a0\u7528\u6237\u6570\u636e INSERT INTO USER VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efaorderlist\u8ba2\u5355\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- id number VARCHAR(20) NOT NULL, -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5217 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u8ba2\u5355\u6570\u636e INSERT INTO orderlist VALUES (NULL,'hm001',1),(NULL,'hm002',1), (NULL,'hm003',2),(NULL,'hm004',2); -- \u6dfb\u52a0\u4e00\u4e2a\u8ba2\u5355\uff0c\u4f46\u662f\u6ca1\u6709\u771f\u5b9e\u7528\u6237\u3002\u6dfb\u52a0\u5931\u8d25 INSERT INTO orderlist VALUES (NULL,'hm005',3); -- \u5220\u9664\u674e\u56db\u7528\u6237\u3002\u5220\u9664\u5931\u8d25 DELETE FROM USER WHERE NAME='\u674e\u56db'; /* \u5220\u9664\u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP FOREIGN KEY \u5916\u952e\u540d; */ -- \u5220\u9664\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist DROP FOREIGN KEY ou_fk1; /* \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); */ -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist ADD CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id); \u5916\u952e\u7ea7\u8054\u64cd\u4f5c \u00b6 /* \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON UPDATE CASCADE; \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u5220\u9664 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON DELETE CASCADE; \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0\u548c\u7ea7\u8054\u5220\u9664 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON UPDATE CASCADE ON DELETE CASCADE; */ \u5916\u952e\u7ea7\u8054\u64cd\u4f5cexample -- \u5220\u9664\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist DROP FOREIGN KEY ou_fk1; -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0\u548c\u7ea7\u8054\u5220\u9664 ALTER TABLE orderlist ADD CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ON UPDATE CASCADE ON DELETE CASCADE; -- \u5c06\u674e\u56db\u8fd9\u4e2a\u7528\u6237\u7684id\u4fee\u6539\u4e3a3,\u8ba2\u5355\u8868\u4e2d\u7684uid\u4e5f\u81ea\u52a8\u4fee\u6539 UPDATE USER SET id=3 WHERE id=2; -- \u5c06\u674e\u56db\u8fd9\u4e2a\u7528\u6237\u5220\u9664,\u8ba2\u5355\u8868\u4e2d\u7684\u8be5\u7528\u6237\u6240\u5c5e\u7684\u8ba2\u5355\u4e5f\u81ea\u52a8\u5220\u9664 DELETE FROM USER WHERE id=3; 02\u591a\u8868\u64cd\u4f5c \u00b6 \u8868\u5173\u7cfb\u4e00\u5bf9\u4e00 \u00b6 -- \u521b\u5efadb3\u6570\u636e\u5e93 CREATE DATABASE db3; -- \u4f7f\u7528db3\u6570\u636e\u5e93 USE db3; -- \u521b\u5efaperson\u8868 CREATE TABLE person( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO person VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efacard\u8868 CREATE TABLE card( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid number VARCHAR(20) UNIQUE NOT NULL, -- \u8eab\u4efd\u8bc1\u53f7 pid INT UNIQUE, -- \u5916\u952e\u5217 CONSTRAINT cp_fk1 FOREIGN KEY (pid) REFERENCES person(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO card VALUES (NULL,'12345',1),(NULL,'56789',2); \u8868\u5173\u7cfb\u4e00\u5bf9\u591a \u00b6 -- \u521b\u5efauser\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO USER VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efaorderlist\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid number VARCHAR(20), -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5217 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO orderlist VALUES (NULL,'hm001',1),(NULL,'hm002',1),(NULL,'hm003',2),(NULL,'hm004',2); /* \u5546\u54c1\u5206\u7c7b\u548c\u5546\u54c1 */ -- \u521b\u5efacategory\u8868 CREATE TABLE category( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(10) -- \u5206\u7c7b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO category VALUES (NULL,'\u624b\u673a\u6570\u7801'),(NULL,'\u7535\u8111\u529e\u516c'); -- \u521b\u5efaproduct\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(30), -- \u5546\u54c1\u540d\u79f0 cid INT, -- \u5916\u952e\u5217 CONSTRAINT pc_fk1 FOREIGN KEY (cid) REFERENCES category(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (NULL,'\u534e\u4e3aP30',1),(NULL,'\u5c0f\u7c73note3',1), (NULL,'\u8054\u60f3\u7535\u8111',2),(NULL,'\u82f9\u679c\u7535\u8111',2); \u8868\u5173\u7cfb\u591a\u5bf9\u591a \u00b6 -- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u5b66\u751f\u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efacourse\u8868 CREATE TABLE course( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(10) -- \u8bfe\u7a0b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO course VALUES (NULL,'\u8bed\u6587'),(NULL,'\u6570\u5b66'); -- \u521b\u5efa\u4e2d\u95f4\u8868 CREATE TABLE stu_course( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid sid INT, -- \u7528\u4e8e\u548cstudent\u8868\u4e2d\u7684id\u8fdb\u884c\u5916\u952e\u5173\u8054 cid INT, -- \u7528\u4e8e\u548ccourse\u8868\u4e2d\u7684id\u8fdb\u884c\u5916\u952e\u5173\u8054 CONSTRAINT sc_fk1 FOREIGN KEY (sid) REFERENCES student(id), -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f CONSTRAINT sc_fk2 FOREIGN KEY (cid) REFERENCES course(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO stu_course VALUES (NULL,1,1),(NULL,1,2),(NULL,2,1),(NULL,2,2); \u591a\u8868\u67e5\u8be2\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb4\u6570\u636e\u5e93 CREATE DATABASE db4; -- \u4f7f\u7528db4\u6570\u636e\u5e93 USE db4; -- \u521b\u5efauser\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- \u7528\u6237id NAME VARCHAR(20), -- \u7528\u6237\u59d3\u540d age INT -- \u7528\u6237\u5e74\u9f84 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO USER VALUES (1,'\u5f20\u4e09',23); INSERT INTO USER VALUES (2,'\u674e\u56db',24); INSERT INTO USER VALUES (3,'\u738b\u4e94',25); INSERT INTO USER VALUES (4,'\u8d75\u516d',26); -- \u8ba2\u5355\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8ba2\u5355id number VARCHAR(30), -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5b57\u6bb5 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO orderlist VALUES (1,'hm001',1); INSERT INTO orderlist VALUES (2,'hm002',1); INSERT INTO orderlist VALUES (3,'hm003',2); INSERT INTO orderlist VALUES (4,'hm004',2); INSERT INTO orderlist VALUES (5,'hm005',3); INSERT INTO orderlist VALUES (6,'hm006',3); INSERT INTO orderlist VALUES (7,'hm007',NULL); -- \u5546\u54c1\u5206\u7c7b\u8868 CREATE TABLE category( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5546\u54c1\u5206\u7c7bid NAME VARCHAR(10) -- \u5546\u54c1\u5206\u7c7b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO category VALUES (1,'\u624b\u673a\u6570\u7801'); INSERT INTO category VALUES (2,'\u7535\u8111\u529e\u516c'); INSERT INTO category VALUES (3,'\u70df\u9152\u8336\u7cd6'); INSERT INTO category VALUES (4,'\u978b\u9774\u7bb1\u5305'); -- \u5546\u54c1\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5546\u54c1id NAME VARCHAR(30), -- \u5546\u54c1\u540d\u79f0 cid INT, -- \u5916\u952e\u5b57\u6bb5 CONSTRAINT cp_fk1 FOREIGN KEY (cid) REFERENCES category(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (1,'\u534e\u4e3a\u624b\u673a',1); INSERT INTO product VALUES (2,'\u5c0f\u7c73\u624b\u673a',1); INSERT INTO product VALUES (3,'\u8054\u60f3\u7535\u8111',2); INSERT INTO product VALUES (4,'\u82f9\u679c\u7535\u8111',2); INSERT INTO product VALUES (5,'\u4e2d\u534e\u9999\u70df',3); INSERT INTO product VALUES (6,'\u7389\u6eaa\u9999\u70df',3); INSERT INTO product VALUES (7,'\u8ba1\u751f\u7528\u54c1',NULL); -- \u4e2d\u95f4\u8868 CREATE TABLE us_pro( upid INT PRIMARY KEY AUTO_INCREMENT, -- \u4e2d\u95f4\u8868id uid INT, -- \u5916\u952e\u5b57\u6bb5\u3002\u9700\u8981\u548c\u7528\u6237\u8868\u7684\u4e3b\u952e\u4ea7\u751f\u5173\u8054 pid INT, -- \u5916\u952e\u5b57\u6bb5\u3002\u9700\u8981\u548c\u5546\u54c1\u8868\u7684\u4e3b\u952e\u4ea7\u751f\u5173\u8054 CONSTRAINT up_fk1 FOREIGN KEY (uid) REFERENCES USER(id), CONSTRAINT up_fk2 FOREIGN KEY (pid) REFERENCES product(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO us_pro VALUES (NULL,1,1); INSERT INTO us_pro VALUES (NULL,1,2); INSERT INTO us_pro VALUES (NULL,1,3); INSERT INTO us_pro VALUES (NULL,1,4); INSERT INTO us_pro VALUES (NULL,1,5); INSERT INTO us_pro VALUES (NULL,1,6); INSERT INTO us_pro VALUES (NULL,1,7); INSERT INTO us_pro VALUES (NULL,2,1); INSERT INTO us_pro VALUES (NULL,2,2); INSERT INTO us_pro VALUES (NULL,2,3); INSERT INTO us_pro VALUES (NULL,2,4); INSERT INTO us_pro VALUES (NULL,2,5); INSERT INTO us_pro VALUES (NULL,2,6); INSERT INTO us_pro VALUES (NULL,2,7); INSERT INTO us_pro VALUES (NULL,3,1); INSERT INTO us_pro VALUES (NULL,3,2); INSERT INTO us_pro VALUES (NULL,3,3); INSERT INTO us_pro VALUES (NULL,3,4); INSERT INTO us_pro VALUES (NULL,3,5); INSERT INTO us_pro VALUES (NULL,3,6); INSERT INTO us_pro VALUES (NULL,3,7); INSERT INTO us_pro VALUES (NULL,4,1); INSERT INTO us_pro VALUES (NULL,4,2); INSERT INTO us_pro VALUES (NULL,4,3); INSERT INTO us_pro VALUES (NULL,4,4); INSERT INTO us_pro VALUES (NULL,4,5); INSERT INTO us_pro VALUES (NULL,4,6); INSERT INTO us_pro VALUES (NULL,4,7); \u5185\u8fde\u63a5\u67e5\u8be2 \u00b6 \u663e\u793a\u5185\u8fde\u63a5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 [INNER] JOIN \u8868\u540d2 ON \u5173\u8054\u6761\u4ef6; */ \u9690\u5f0f\u5185\u8fde\u63a5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1,\u8868\u540d2 WHERE \u5173\u8054\u6761\u4ef6; */ \u5916\u8fde\u63a5\u67e5\u8be2 \u00b6 \u5de6\u5916\u8fde\u63a5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 LEFT [OUTER] JOIN \u8868\u540d2 ON \u6761\u4ef6; */ \u53f3\u5916\u8fde\u63a5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 RIGHT [OUTER] JOIN \u8868\u540d2 ON \u6761\u4ef6; */ \u5b50\u67e5\u8be2 \u00b6 /* \u7ed3\u679c\u662f\u5355\u884c\u5355\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d WHERE \u5217\u540d=(SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]); */ -- \u67e5\u8be2\u5e74\u9f84\u6700\u9ad8\u7684\u7528\u6237\u59d3\u540d SELECT MAX(age) FROM USER; SELECT NAME,age FROM USER WHERE age=(SELECT MAX(age) FROM USER); /* \u7ed3\u679c\u662f\u591a\u884c\u5355\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d WHERE \u5217\u540d [NOT] IN (SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]); */ -- \u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u7684\u8ba2\u5355\u4fe1\u606f SELECT * FROM orderlist WHERE uid IN (1,2); SELECT id FROM USER WHERE NAME IN ('\u5f20\u4e09','\u674e\u56db'); SELECT * FROM orderlist WHERE uid IN (SELECT id FROM USER WHERE NAME IN ('\u5f20\u4e09','\u674e\u56db')); /* \u7ed3\u679c\u662f\u591a\u884c\u591a\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [\u522b\u540d],(SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]) [\u522b\u540d] [WHERE \u6761\u4ef6]; */ -- \u67e5\u8be2\u8ba2\u5355\u8868\u4e2did\u5927\u4e8e4\u7684\u8ba2\u5355\u4fe1\u606f\u548c\u6240\u5c5e\u7528\u6237\u4fe1\u606f SELECT * FROM orderlist WHERE id > 4; SELECT u.name, o.number FROM USER u, (SELECT * FROM orderlist WHERE id > 4) o WHERE o.uid=u.id; \u81ea\u5173\u8054\u67e5\u8be2 \u00b6 -- \u521b\u5efa\u5458\u5de5\u8868 CREATE TABLE employee( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5458\u5de5\u7f16\u53f7 NAME VARCHAR(20), -- \u5458\u5de5\u59d3\u540d mgr INT, -- \u4e0a\u7ea7\u7f16\u53f7 salary DOUBLE -- \u5458\u5de5\u5de5\u8d44 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO employee VALUES (1001,'\u5b59\u609f\u7a7a',1005,9000.00), (1002,'\u732a\u516b\u6212',1005,8000.00), (1003,'\u6c99\u548c\u5c1a',1005,8500.00), (1004,'\u5c0f\u767d\u9f99',1005,7900.00), (1005,'\u5510\u50e7',NULL,15000.00), (1006,'\u6b66\u677e',1009,7600.00), (1007,'\u674e\u9035',1009,7400.00), (1008,'\u6797\u51b2',1009,8100.00), (1009,'\u5b8b\u6c5f',NULL,16000.00); -- \u67e5\u8be2\u6240\u6709\u5458\u5de5\u7684\u59d3\u540d\u53ca\u5176\u76f4\u63a5\u4e0a\u7ea7\u7684\u59d3\u540d\uff0c\u6ca1\u6709\u4e0a\u7ea7\u7684\u5458\u5de5\u4e5f\u9700\u8981\u67e5\u8be2 /* \u5206\u6790 \u5458\u5de5\u4fe1\u606f employee\u8868 \u6761\u4ef6\uff1aemployee.mgr = employee.id \u67e5\u8be2\u5de6\u8868\u7684\u5168\u90e8\u6570\u636e\uff0c\u548c\u5de6\u53f3\u4e24\u5f20\u8868\u6709\u4ea4\u96c6\u90e8\u5206\u6570\u636e\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT e1.id, e1.name, e1.mgr, e2.id, e2.name FROM employee e1 LEFT OUTER JOIN employee e2 ON e1.mgr = e2.id; \u591a\u8868\u67e5\u8be2\u7ec3\u4e60 \u00b6 -- 1.\u67e5\u8be2\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid; -- 2.\u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\u3002\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid \u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT u.id, u.name, u.age, o.number FROM USER u LEFT OUTER JOIN orderlist o ON u.id=o.uid; -- 3.\u67e5\u8be2\u6240\u6709\u7684\u8ba2\u5355\u3002\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid \u67e5\u8be2\u6240\u6709\u7684\u8ba2\u5355\uff0c\u53f3\u5916\u8fde\u63a5 */ SELECT u.id, u.name, u.age, o.number FROM USER u RIGHT OUTER JOIN orderlist o ON u.id=o.uid; -- 4.\u67e5\u8be2\u7528\u6237\u5e74\u9f84\u5927\u4e8e23\u5c81\u7684\u4fe1\u606f\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid AND user.age > 23 */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid AND u.age > 23; -- 5.\u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u7528\u6237\u7684\u4fe1\u606f\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid AND user.name IN ('\u5f20\u4e09','\u674e\u56db') */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid AND u.name IN ('\u5f20\u4e09','\u674e\u56db'); -- 6.\u67e5\u8be2\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid */ SELECT c.id, c.name, p.name FROM category c, product p WHERE c.id=p.cid; -- 7.\u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u5206\u7c7b\u3002\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid \u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u5206\u7c7b\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT c.id, c.name, p.name FROM category c LEFT OUTER JOIN product p ON c.id=p.cid; -- 8.\u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u4fe1\u606f\u3002\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid \u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u4fe1\u606f\uff0c\u53f3\u5916\u8fde\u63a5 */ SELECT c.id, c.name, p.name FROM category c RIGHT OUTER JOIN product p ON c.id=p.cid; -- 9.\u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\u548c\u8be5\u7528\u6237\u80fd\u67e5\u770b\u7684\u6240\u6709\u7684\u5546\u54c1\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u4e2d\u95f4\u8868 us_pro \u6761\u4ef6\uff1aus_pro.uid=user.id AND us_pro.pid=product.id */ SELECT u.id, u.name, u.age, p.name FROM USER u, product p, us_pro up WHERE up.uid=u.id AND up.pid=p.id; -- 10.\u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u8fd9\u4e24\u4e2a\u7528\u6237\u53ef\u4ee5\u770b\u5230\u7684\u5546\u54c1\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u4e2d\u95f4\u8868 us_pro \u6761\u4ef6\uff1aus_pro.uid=user.id AND us_pro.pid=product.id AND user.name IN ('\u5f20\u4e09','\u674e\u56db') */ SELECT u.id, u.name, u.age, p.name FROM USER u, product p, us_pro up WHERE up.uid=u.id AND up.pid=p.id AND u.name IN ('\u5f20\u4e09','\u674e\u56db'); 03\u89c6\u56fe \u00b6 \u89c6\u56fe_\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb5\u6570\u636e\u5e93 CREATE DATABASE db5; -- \u4f7f\u7528db5\u6570\u636e\u5e93 USE db5; -- \u521b\u5efacountry\u8868 CREATE TABLE country( id INT PRIMARY KEY AUTO_INCREMENT, -- \u56fd\u5bb6id NAME VARCHAR(30) -- \u56fd\u5bb6\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO country VALUES (NULL,'\u4e2d\u56fd'),(NULL,'\u7f8e\u56fd'),(NULL,'\u4fc4\u7f57\u65af'); -- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id NAME VARCHAR(30), -- \u57ce\u5e02\u540d\u79f0 cid INT, -- \u5916\u952e\u5217\u3002\u5173\u8054country\u8868\u7684\u4e3b\u952e\u5217id CONSTRAINT cc_fk1 FOREIGN KEY (cid) REFERENCES country(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u7ebd\u7ea6',2),(NULL,'\u83ab\u65af\u79d1',3); \u521b\u5efa\u89c6\u56fe \u00b6 /* \u6807\u51c6\u8bed\u6cd5 CREATE VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */ example -- \u521b\u5efacity_country\u89c6\u56fe\uff0c\u4fdd\u5b58\u57ce\u5e02\u548c\u56fd\u5bb6\u7684\u4fe1\u606f(\u4f7f\u7528\u6307\u5b9a\u5217\u540d) CREATE VIEW city_country (city_id,city_name,country_name) AS SELECT c1.id, c1.name, c2.name FROM city c1, country c2 WHERE c1.cid=c2.id; \u67e5\u8be2\u89c6\u56fe \u00b6 /* \u6807\u51c6\u8bed\u6cd5 SELECT * FROM \u89c6\u56fe\u540d\u79f0; */ example -- \u67e5\u8be2\u89c6\u56fe SELECT * FROM city_country; day03 \u00b6 01\u89c6\u56fe \u00b6 \u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb7\u6570\u636e\u5e93 CREATE DATABASE db7; -- \u4f7f\u7528db7\u6570\u636e\u5e93 USE db7; -- \u521b\u5efacountry\u8868 CREATE TABLE country( id INT PRIMARY KEY AUTO_INCREMENT, -- \u56fd\u5bb6id country_name VARCHAR(30) -- \u56fd\u5bb6\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO country VALUES (NULL,'\u4e2d\u56fd'),(NULL,'\u7f8e\u56fd'),(NULL,'\u4fc4\u7f57\u65af'); -- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id city_name VARCHAR(30), -- \u57ce\u5e02\u540d\u79f0 cid INT, -- \u5916\u952e\u5217\u3002\u5173\u8054country\u8868\u7684\u4e3b\u952e\u5217id CONSTRAINT cc_fk1 FOREIGN KEY (cid) REFERENCES country(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u7ebd\u7ea6',2),(NULL,'\u83ab\u65af\u79d1',3); \u521b\u5efa\u89c6\u56fe \u00b6 /* \u521b\u5efa\u89c6\u56fe \u6807\u51c6\u8bed\u6cd5 CREATE VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */ \u67e5\u8be2\u89c6\u56fe \u00b6 \u67e5\u8be2\u89c6\u56fe \u00b6 /* \u6807\u51c6\u8bed\u6cd5 SELECT * FROM \u89c6\u56fe\u540d\u79f0; */ \u67e5\u8be2\u521b\u5efa\u89c6\u56fe\u7684\u8bed\u53e5 \u00b6 /* \u6807\u51c6\u8bed\u6cd5 SHOW CREATE VIEW \u89c6\u56fe\u540d\u79f0; */ \u4fee\u6539\u89c6\u56fe \u00b6 \u4fee\u6539\u89c6\u56fe\u8868\u6570\u636e \u00b6 /* \u6807\u51c6\u8bed\u6cd5 UPDATE \u89c6\u56fe\u540d\u79f0 SET \u5217\u540d=\u503c WHERE \u6761\u4ef6; */ \u4fee\u6539\u89c6\u56fe\u8868\u7ed3\u6784 \u00b6 /* \u4fee\u6539\u89c6\u56fe\u8868\u7ed3\u6784 \u6807\u51c6\u8bed\u6cd5 ALTER VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */ \u5220\u9664\u89c6\u56fe \u00b6 /* \u5220\u9664\u89c6\u56fe \u6807\u51c6\u8bed\u6cd5 DROP VIEW [IF EXISTS] \u89c6\u56fe\u540d\u79f0; */ 02\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570 \u00b6 \u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb8\u6570\u636e\u5e93 CREATE DATABASE db8; -- \u4f7f\u7528db8\u6570\u636e\u5e93 USE db8; -- \u521b\u5efa\u5b66\u751f\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5b66\u751fid NAME VARCHAR(20), -- \u5b66\u751f\u59d3\u540d age INT, -- \u5b66\u751f\u5e74\u9f84 gender VARCHAR(5), -- \u5b66\u751f\u6027\u522b score INT -- \u5b66\u751f\u6210\u7ee9 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,'\u7537',95),(NULL,'\u674e\u56db',24,'\u7537',98), (NULL,'\u738b\u4e94',25,'\u5973',100),(NULL,'\u8d75\u516d',26,'\u5973',90); -- \u6309\u7167\u6027\u522b\u8fdb\u884c\u5206\u7ec4\uff0c\u67e5\u8be2\u6bcf\u7ec4\u5b66\u751f\u7684\u603b\u6210\u7ee9\u3002\u6309\u7167\u603b\u6210\u7ee9\u7684\u5347\u5e8f\u6392\u5e8f SELECT gender,SUM(score) getSum FROM student GROUP BY gender ORDER BY getSum ASC; \u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b \u00b6 /* -- \u4fee\u6539\u5206\u9694\u7b26\u4e3a $ DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( \u53c2\u6570 ...) BEGIN sql\u8bed\u53e5 ; END $ -- \u4fee\u6539\u5206\u9694\u7b26\u4e3a\u5206\u53f7 DELIMITER ; */ -- \u521b\u5efastu_group()\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5c01\u88c5 \u5206\u7ec4\u67e5\u8be2\u603b\u6210\u7ee9\uff0c\u5e76\u6309\u7167\u603b\u6210\u7ee9\u5347\u5e8f\u6392\u5e8f\u7684\u529f\u80fd DELIMITER $ CREATE PROCEDURE stu_group () BEGIN SELECT gender , SUM ( score ) getSum FROM student GROUP BY gender ORDER BY getSum ASC ; END $ DELIMITER ; \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b \u00b6 /* \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 CALL \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0(\u5b9e\u9645\u53c2\u6570); */ -- \u8c03\u7528stu_group\u5b58\u50a8\u8fc7\u7a0b CALL stu_group(); \u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b \u00b6 /* \u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 SELECT name FROM mysql.proc WHERE db='\u6570\u636e\u5e93\u540d\u79f0'; */ -- \u67e5\u770bdb8\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b SELECT NAME FROM mysql.proc WHERE db='db8'; \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f \u00b6 /* \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f \u6807\u51c6\u8bed\u6cd5 SHOW PROCEDURE STATUS ; */ -- \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f SHOW PROCEDURE STATUS ; \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5 \u00b6 /* \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 SHOW CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ; */ -- \u67e5\u8be2stu_group\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5 SHOW CREATE PROCEDURE stu_group ; \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b \u00b6 /* \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 DROP PROCEDURE [IF EXISTS] \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0; */ -- \u5220\u9664stu_group\u5b58\u50a8\u8fc7\u7a0b DROP PROCEDURE IF EXISTS stu_group ; \u5b58\u50a8\u8fc7\u7a0b-\u53d8\u91cf \u00b6 \u5b9a\u4e49\u53d8\u91cf \u00b6 /* \u5b9a\u4e49\u53d8\u91cf \u6807\u51c6\u8bed\u6cd5 DECLARE \u53d8\u91cf\u540d \u6570\u636e\u7c7b\u578b [DEFAULT \u9ed8\u8ba4\u503c]; */ -- \u5b9a\u4e49\u4e00\u4e2aint\u7c7b\u578b\u53d8\u91cf\uff0c\u5e76\u8d4b\u9ed8\u8ba4\u503c\u4e3a10 DELIMITER $ CREATE PROCEDURE pro_test1 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE num INT DEFAULT 10 ; -- \u67e5\u8be2\u53d8\u91cf SELECT num ; END $ DELIMITER ; -- \u8c03\u7528pro_test1\u5b58\u50a8\u8fc7\u7a0b CALL pro_test1(); \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e00 \u00b6 /* \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e00 \u6807\u51c6\u8bed\u6cd5 SET \u53d8\u91cf\u540d = \u53d8\u91cf\u503c; */ -- \u5b9a\u4e49\u4e00\u4e2avarchar\u7c7b\u578b\u53d8\u91cf\u5e76\u8d4b\u503c DELIMITER $ CREATE PROCEDURE pro_test2 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE NAME VARCHAR ( 10 ); -- \u4e3a\u53d8\u91cf\u8d4b\u503c SET NAME = '\u5b58\u50a8\u8fc7\u7a0b' ; -- \u67e5\u8be2\u53d8\u91cf SELECT NAME ; END $ DELIMITER ; -- \u8c03\u7528pro_test2\u5b58\u50a8\u8fc7\u7a0b CALL pro_test2(); \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e8c /* \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e8c \u6807\u51c6\u8bed\u6cd5 SELECT \u5217\u540d INTO \u53d8\u91cf\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]; */ -- \u5b9a\u4e49\u4e24\u4e2aint\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u7537\u5973\u540c\u5b66\u7684\u603b\u5206\u6570 DELIMITER $ CREATE PROCEDURE pro_test3 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE men , women INT ; -- \u67e5\u8be2\u7537\u540c\u5b66\u7684\u603b\u5206\u6570\uff0c\u4e3a men\u53d8\u91cf\u8d4b\u503c SELECT SUM ( score ) INTO men FROM student WHERE gender = '\u7537' ; -- \u67e5\u8be2\u5973\u540c\u5b66\u7684\u603b\u5206\u6570\uff0c\u4e3a women\u53d8\u91cf\u8d4b\u503c SELECT SUM ( score ) INTO women FROM student WHERE gender = '\u5973' ; -- \u67e5\u8be2\u53d8\u91cf SELECT men , women ; END $ DELIMITER ; -- \u8c03\u7528pro_test3\u5b58\u50a8\u8fc7\u7a0b CALL pro_test3(); \u5b58\u50a8\u8fc7\u7a0b-if\u8bed\u53e5 \u00b6 /* \u5b58\u50a8\u8fc7\u7a0b - if\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 IF \u5224\u65ad\u6761\u4ef6 1 THEN \u6267\u884c\u7684 sql\u8bed\u53e51 ; [ ELSEIF \u5224\u65ad\u6761\u4ef6 2 THEN \u6267\u884c\u7684 sql\u8bed\u53e52 ;] ... [ ELSE \u6267\u884c\u7684 sql\u8bed\u53e5n ;] END IF ; */ / \u5b9a\u4e49\u4e00\u4e2aint\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u73ed\u7ea7\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test4 () BEGIN -- \u5b9a\u4e49\u4fdd\u5b58\u603b\u6210\u7ee9\u7684\u53d8\u91cf DECLARE total INT ; -- \u5b9a\u4e49\u4fdd\u5b58\u5206\u6570\u63cf\u8ff0\u7684\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u4e3a total\u8d4b\u503c SELECT SUM ( score ) INTO total FROM student ; -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test4\u5b58\u50a8\u8fc7\u7a0b CALL pro_test4(); \u5b58\u50a8\u8fc7\u7a0b_\u8f93\u5165\u53c2\u6570 \u00b6 /* \u8f93\u5165\u53c2\u6570 DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( IN \u53c2\u6570\u540d \u6570\u636e\u7c7b\u578b ) BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; END $ DELIMITER ; */ / \u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test5 ( IN total INT ) BEGIN -- \u5b9a\u4e49\u5206\u6570\u63cf\u8ff0\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test5\u5b58\u50a8\u8fc7\u7a0b CALL pro_test5(310); CALL pro_test5((SELECT SUM(score) FROM student)); \u5b58\u50a8\u8fc7\u7a0b_\u8f93\u51fa\u53c2\u6570 \u00b6 /* \u8f93\u51fa\u53c2\u6570 DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( OUT \u53c2\u6570\u540d \u6570\u636e\u7c7b\u578b ) BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; END $ DELIMITER ; */ /\u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u8f93\u51fa\u5206\u6570\u63cf\u8ff0\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9\u7684\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c */ DELIMITER $ CREATE PROCEDURE pro_test6 ( IN total INT , OUT description VARCHAR ( 10 )) BEGIN -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; END $ DELIMITER ; -- \u8c03\u7528pro_test6\u5b58\u50a8\u8fc7\u7a0b CALL pro_test6 ( 390 , @description ); -- \u67e5\u8be2\u603b\u6210\u7ee9\u63cf\u8ff0\u4fe1\u606f\u53d8\u91cf SELECT @description ; \u5b58\u50a8\u8fc7\u7a0b_case\u8bed\u53e5 \u00b6 /* case\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 CASE WHEN \u5224\u65ad\u6761\u4ef6 1 THEN \u6267\u884c sql\u8bed\u53e51 ; [ WHEN \u5224\u65ad\u6761\u4ef6 2 THEN \u6267\u884c sql\u8bed\u53e52 ;] ... [ ELSE \u6267\u884c sql\u8bed\u53e5n ;] END CASE ; */ / \u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test7 ( IN total INT ) BEGIN -- \u5b9a\u4e49\u603b\u6210\u7ee9\u63cf\u8ff0\u4fe1\u606f\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u5224\u65ad\u603b\u6210\u7ee9 CASE WHEN total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; WHEN total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END CASE ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test7\u5b58\u50a8\u8fc7\u7a0b CALL pro_test7(310); \u5b58\u50a8\u8fc7\u7a0b_while\u5faa\u73af \u00b6 /* while\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5 ; WHILE \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 DO \u5faa\u73af\u4f53\u8bed\u53e5 ; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5 ; END WHILE ; */ -- \u8ba1\u7b971~100\u4e4b\u95f4\u7684\u5076\u6570\u548c DELIMITER $ CREATE PROCEDURE pro_test8 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- while\u5faa\u73af WHILE num <= 100 DO -- \u5224\u65ad num\u662f\u5426\u662f\u5076\u6570 IF num % 2 = 0 THEN -- \u8ba9 num\u548cresult\u8fdb\u884c\u7d2f\u52a0 SET result = result + num ; END IF ; -- \u8ba9 num\u8fdb\u884c\u81ea\u589e SET num = num + 1 ; END WHILE ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test8\u5b58\u50a8\u8fc7\u7a0b CALL pro_test8(); \u5b58\u50a8\u8fc7\u7a0b_repeat\u5faa\u73af \u00b6 /* repeat\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5 ; REPEAT \u5faa\u73af\u4f53\u8bed\u53e5 ; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5 ; UNTIL \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 END REPEAT ; */ -- \u8ba1\u7b971~10\u4e4b\u95f4\u7684\u548c DELIMITER $ CREATE PROCEDURE pro_test9 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- repeat\u5faa\u73af REPEAT -- \u7d2f\u52a0 SET result = result + num ; -- \u8ba9 num + 1 SET num = num + 1 ; -- \u505c\u6b62\u5faa\u73af UNTIL num > 10 END REPEAT ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test9\u5b58\u50a8\u8fc7\u7a0b CALL pro_test9(); \u5b58\u50a8\u8fc7\u7a0b_loop\u5faa\u73af \u00b6 /* loop\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5; [ \u5faa\u73af\u540d\u79f0 : ] LOOP \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 [ LEAVE \u5faa\u73af\u540d\u79f0 ; ] \u5faa\u73af\u4f53\u8bed\u53e5; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5; END LOOP \u5faa\u73af\u540d\u79f0; */ -- \u8ba1\u7b971~10\u4e4b\u95f4\u7684\u548c DELIMITER $ CREATE PROCEDURE pro_test10 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- loop\u5faa\u73af l : LOOP -- \u6761\u4ef6\u5224\u65ad \uff0c \u505c\u6b62\u5faa\u73af IF num > 10 THEN LEAVE l ; END IF ; -- \u7d2f\u52a0 SET result = result + num ; -- \u8ba9num + 1 SET num = num + 1 ; END LOOP l ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test10\u5b58\u50a8\u8fc7\u7a0b CALL pro_test10(); \u5b58\u50a8\u8fc7\u7a0b_\u6e38\u6807 \u00b6 /* \u6e38\u6807 \u6807\u51c6\u8bed\u6cd5 1.\u521b\u5efa\u6e38\u6807\uff1aDECLARE \u6e38\u6807\u540d\u79f0 CURSOR FOR \u67e5\u8be2sql\u8bed\u53e5; 2.\u6253\u5f00\u6e38\u6807\uff1aOPEN \u6e38\u6807\u540d\u79f0; 3.\u4f7f\u7528\u6e38\u6807\uff1aFETCH \u6e38\u6807\u540d\u79f0 INTO \u53d8\u91cf\u540d1,\u53d8\u91cf\u540d2,...; 4.\u5173\u95ed\u6e38\u6807\uff1aCLOSE \u6e38\u6807\u540d\u79f0; */ -- \u521b\u5efastu_score\u8868 CREATE TABLE stu_score( id INT PRIMARY KEY AUTO_INCREMENT, score INT ); -- \u5c06student\u8868\u4e2d\u6240\u6709\u7684\u6210\u7ee9\u4fdd\u5b58\u5230stu_score\u8868\u4e2d DELIMITER $ CREATE PROCEDURE pro_test11 () BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6210\u7ee9\u7684\u53d8\u91cf DECLARE s_score INT ; -- \u521b\u5efa\u6e38\u6807 DECLARE stu_result CURSOR FOR SELECT score FROM student ; -- \u5f00\u542f\u6e38\u6807 OPEN stu_result ; -- \u4f7f\u7528\u6e38\u6807 -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 1 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 2 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 3 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 4 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u5173\u95ed\u6e38\u6807 CLOSE stu_result ; END $ DELIMITER ; -- \u8c03\u7528pro_test11\u5b58\u50a8\u8fc7\u7a0b CALL pro_test11(); -- \u67e5\u8be2stu_score\u6570\u636e\u8868 SELECT * FROM stu_score; \u5b58\u50a8\u8fc7\u7a0b_\u6e38\u6807\u4f18\u5316 \u00b6 /* \u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u4f1a\u81ea\u52a8\u7684\u89e6\u53d1\u4e00\u4e2a\u4e8b\u4ef6\u3002\u5c31\u4ee3\u8868\u6e38\u6807\u5df2\u7ecf\u7ed3\u675f\u4e86\uff01 \u52a0\u6807\u8bb0\u7684\u601d\u60f3\uff1a 1.\u5b9a\u4e49\u4e00\u4e2a\u6807\u8bb0\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff08\u610f\u5473\u7740\u6709\u6570\u636e\uff09 2.\u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u5c06\u6807\u8bb0\u53d8\u91cf\u7684\u503c\u4fee\u6539\u4e3a1\uff08\u610f\u5473\u7740\u6ca1\u6709\u6570\u636e\u4e86\uff09 */ DELIMITER $ CREATE PROCEDURE pro_test12 () BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6210\u7ee9\u7684\u53d8\u91cf DECLARE s_score INT ; -- \u5b9a\u4e49\u4e00\u4e2a\u6807\u8bb0\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \uff08\u610f\u5473\u7740\u6709\u6570\u636e\uff09 DECLARE flag INT DEFAULT 0 ; -- \u521b\u5efa\u6e38\u6807 DECLARE stu_result CURSOR FOR SELECT score FROM student ; -- \u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u5c06\u6807\u8bb0\u53d8\u91cf\u7684\u503c\u4fee\u6539\u4e3a 1 \uff08\u610f\u5473\u7740\u6ca1\u6709\u6570\u636e\u4e86\uff09 DECLARE EXIT HANDLER FOR NOT FOUND SET flag = 1 ; -- \u5f00\u542f\u6e38\u6807 OPEN stu_result ; -- \u5faa\u73af\u4f7f\u7528\u6e38\u6807 REPEAT -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u5f53 flag\u7684\u503c\u662f1\u7684\u65f6\u5019 \uff0c\u5c31\u505c\u6b62\u5faa\u73af UNTIL flag = 1 END REPEAT ; -- \u5173\u95ed\u6e38\u6807 CLOSE stu_result ; END $ DELIMITER ; -- \u8c03\u7528pro_test12\u5b58\u50a8\u8fc7\u7a0b CALL pro_test12(); -- \u67e5\u8be2stu_score\u8868 SELECT * FROM stu_score; \u5b58\u50a8\u51fd\u6570 \u00b6 \u521b\u5efa\u5b58\u50a8\u51fd\u6570 \u00b6 /* \u521b\u5efa\u5b58\u50a8\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 CREATE FUNCTION \u51fd\u6570\u540d\u79f0 ([ \u53c2\u6570 \u6570\u636e\u7c7b\u578b ]) RETURNS \u8fd4\u56de\u503c\u7c7b\u578b BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; RETURN \u7ed3\u679c ; END $ */ -- \u5b9a\u4e49\u5b58\u50a8\u51fd\u6570\uff0c\u83b7\u53d6\u5b66\u751f\u8868\u4e2d\u6210\u7ee9\u5927\u4e8e95\u5206\u7684\u5b66\u751f\u6570\u91cf DELIMITER $ CREATE FUNCTION fun_test1 () RETURNS INT BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u7edf\u8ba1\u53d8\u91cf DECLARE result INT ; -- \u67e5\u8be2\u6210\u7ee9\u5927\u4e8e 95 \u5206\u7684\u6570\u91cf SELECT COUNT ( * ) INTO result FROM student WHERE score > 95 ; -- \u5c06\u7ed3\u679c\u8fd4\u56de RETURN result ; END $ DELIMITER ; \u8c03\u7528\u51fd\u6570 \u00b6 /* \u8c03\u7528\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 SELECT \u51fd\u6570\u540d\u79f0(\u5b9e\u9645\u53c2\u6570); */ -- \u8c03\u7528\u51fd\u6570 SELECT fun_test1(); \u5220\u9664\u51fd\u6570 \u00b6 /* \u5220\u9664\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 DROP FUNCTION \u51fd\u6570\u540d\u79f0; */ -- \u5220\u9664\u51fd\u6570 DROP FUNCTION fun_test1; 03\u89e6\u53d1\u5668 \u00b6 \u89e6\u53d1\u5668\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb9\u6570\u636e\u5e93 CREATE DATABASE db9; -- \u4f7f\u7528db9\u6570\u636e\u5e93 USE db9; -- \u521b\u5efa\u8d26\u6237\u8868account CREATE TABLE account( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8d26\u6237id NAME VARCHAR(20), -- \u59d3\u540d money DOUBLE -- \u4f59\u989d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO account VALUES (NULL,'\u5f20\u4e09',1000),(NULL,'\u674e\u56db',2000); -- \u521b\u5efa\u65e5\u5fd7\u8868account_log CREATE TABLE account_log( id INT PRIMARY KEY AUTO_INCREMENT, -- \u65e5\u5fd7id operation VARCHAR(20), -- \u64cd\u4f5c\u7c7b\u578b (insert update delete) operation_time DATETIME, -- \u64cd\u4f5c\u65f6\u95f4 operation_id INT, -- \u64cd\u4f5c\u8868\u7684id operation_params VARCHAR(200) -- \u64cd\u4f5c\u53c2\u6570 ); INSERT\u578b\u89e6\u53d1\u5668 \u00b6 /* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaINSERT\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u65b0\u589e\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_insert AFTER INSERT ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'INSERT' , NOW (), new . id , CONCAT ( '\u63d2\u5165\u540e{id=' , new . id , ',name=' , new . name , ',money=' , new . money , '}' )); END $ DELIMITER ; -- \u5411account\u8868\u6765\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55 INSERT INTO account VALUES (NULL,'\u738b\u4e94',3000); -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log; UPDATE\u578b\u89e6\u53d1\u5668 \u00b6 /* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaUPDATE\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u4fee\u6539\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_update AFTER UPDATE ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'UPDATE' , NOW (), new . id , CONCAT ( '\u4fee\u6539\u524d{id=' , old . id , ',name=' , old . name , ',money=' , old . money , '}' , '\u4fee\u6539\u540e{id=' , new . id , ',name=' , new . name , ',money=' , new . money , '}' )); END $ DELIMITER ; -- \u4fee\u6539account\u8868\u4e2d\u674e\u56db\u7684\u91d1\u989d\u4e3a2500 UPDATE account SET money=2500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log; DELETE\u578b\u89e6\u53d1\u5668 \u00b6 /* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaDELETE\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u5220\u9664\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_delete AFTER DELETE ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'DELETE' , NOW (), old . id , CONCAT ( '\u5220\u9664\u524d{id=' , old . id , ',name=' , old . name , ',money=' , old . money , '}' )); END $ DELIMITER ; -- \u5220\u9664account\u8868\u4e2d\u738b\u4e94 DELETE FROM account WHERE NAME='\u738b\u4e94'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log; \u67e5\u770b\u89e6\u53d1\u5668 \u00b6 /* \u67e5\u770b\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 SHOW TRIGGERS; */ -- \u67e5\u770b\u89e6\u53d1\u5668 SHOW TRIGGERS ; \u5220\u9664\u89e6\u53d1\u5668 \u00b6 /* \u5220\u9664\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DROP TRIGGER \u89e6\u53d1\u5668\u540d\u79f0; */ -- \u5220\u9664\u89e6\u53d1\u5668 DROP TRIGGER account_delete; 04\u4e8b\u52a1 \u00b6 \u4e8b\u52a1\u7684\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb10\u6570\u636e\u5e93 CREATE DATABASE db10; -- \u4f7f\u7528db10\u6570\u636e\u5e93 USE db10; -- \u521b\u5efa\u8d26\u6237\u8868 CREATE TABLE account( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8d26\u6237id NAME VARCHAR(20), -- \u8d26\u6237\u540d\u79f0 money DOUBLE -- \u8d26\u6237\u4f59\u989d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO account VALUES (NULL,'\u5f20\u4e09',1000),(NULL,'\u674e\u56db',1000); \u672a\u7ba1\u7406\u4e8b\u52a1 \u00b6 -- \u5f20\u4e09\u7ed9\u674e\u56db\u8f6c\u8d26500\u5143 -- 1.\u5f20\u4e09\u8d26\u6237-500 UPDATE account SET money=money-500 WHERE NAME='\u5f20\u4e09'; \u51fa\u9519\u4e86... -- 2.\u674e\u56db\u8d26\u6237+500 UPDATE account SET money=money+500 WHERE NAME='\u674e\u56db'; \u7ba1\u7406\u4e8b\u52a1 \u00b6 /* \u5f00\u542f\u4e8b\u52a1\uff1aSTART TRANSACTION; \u56de\u6eda\u4e8b\u52a1\uff1aROLLBACK; \u63d0\u4ea4\u4e8b\u52a1\uff1aCOMMIT; */ -- \u5f20\u4e09\u7ed9\u674e\u56db\u8f6c\u8d26500\u5143 -- 1.\u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- 2.\u6267\u884c\u8f6c\u8d26\u7684\u64cd\u4f5c UPDATE account SET money=money-500 WHERE NAME='\u5f20\u4e09'; \u51fa\u9519\u4e86... UPDATE account SET money=money+500 WHERE NAME='\u674e\u56db'; -- 3.\u7ed3\u675f\u4e8b\u52a1 -- 3.1\u56de\u6eda\u4e8b\u52a1 ROLLBACK; -- 3.2\u63d0\u4ea4\u4e8b\u52a1 COMMIT; \u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f \u00b6 /* \u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f \u67e5\u8be2\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff1aSELECT @@AUTOCOMMIT; -- 1\u4ee3\u8868\u81ea\u52a8\u63d0\u4ea4 0\u4ee3\u8868\u624b\u52a8\u63d0\u4ea4 \u4fee\u6539\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff1aSET @@AUTOCOMMIT=\u6570\u5b57; */ -- \u67e5\u8be2\u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f SELECT @@autocommit ; UPDATE account SET money = 1000 WHERE NAME = '\u5f20\u4e09' ; COMMIT ; -- \u4fee\u6539\u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f SET @@autocommit = 0 ; \u67e5\u8be2\u548c\u4fee\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b \u00b6 /* \u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b \u67e5\u8be2\u9694\u79bb\u7ea7\u522b\uff1aSELECT @@TX_ISOLATION; \u4fee\u6539\u9694\u79bb\u7ea7\u522b\uff1aSET GLOBAL TRANSACTION ISOLATION LEVEL \u7ea7\u522b\u5b57\u7b26\u4e32; */ -- \u67e5\u8be2\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u4fee\u6539\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; \u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31 \u00b6 /* \u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u810f\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u5230\u4e86\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e */ -- \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3aread uncommitted SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u8f6c\u8d26 UPDATE account SET money = money-500 WHERE NAME='\u5f20\u4e09'; UPDATE account SET money = money+500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u56de\u6eda ROLLBACK; \u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32 \u00b6 -- \u67e5\u8be2\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account; \u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31 \u00b6 /* \u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u5230\u4e86\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e */ -- \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3aread committed SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED; SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u8f6c\u8d26 UPDATE account SET money = money-500 WHERE NAME='\u5f20\u4e09'; UPDATE account SET money = money+500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT; \u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32 \u00b6 -- \u67e5\u8be2\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT; \u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31 \u00b6 /* \u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u5e7b\u8bfb\uff1a \u67e5\u8be2\u67d0\u8bb0\u5f55\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728 \u51c6\u5907\u63d2\u5165\u6b64\u8bb0\u5f55\uff0c\u4f46\u6267\u884c\u63d2\u5165\u65f6\u53d1\u73b0\u6b64\u8bb0\u5f55\u5df2\u5b58\u5728\uff0c\u65e0\u6cd5\u63d2\u5165 \u6216\u67d0\u8bb0\u5f55\u4e0d\u5b58\u5728\u6267\u884c\u5220\u9664\uff0c\u5374\u53d1\u73b0\u5220\u9664\u6210\u529f */ -- \u8bbe\u7f6e\u9694\u79bb\u7ea7\u522b\u4e3arepeatable read SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ; SET GLOBAL TRANSACTION ISOLATION LEVEL SERIALIZABLE; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u6dfb\u52a0\u8bb0\u5f55 INSERT INTO account VALUES (4,'\u8d75\u516d',2000); -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT; \u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32 \u00b6 -- \u67e5\u8be2\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u6dfb\u52a0 INSERT INTO account VALUES (3,'\u738b\u4e94',2000); day04 \u00b6 01\u5b58\u50a8\u5f15\u64ce \u00b6 \u67e5\u8be2\u6570\u636e\u5e93\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce \u00b6 /* \u67e5\u8be2\u6570\u636e\u5e93\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW ENGINES; */ \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u6240\u6709\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u00b6 /* \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u6240\u6709\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0; */ \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u67d0\u4e2a\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u00b6 /* \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u67d0\u4e2a\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0 WHERE NAME = '\u6570\u636e\u8868\u540d\u79f0'; */ \u521b\u5efa\u6570\u636e\u8868\u6307\u5b9a\u5b58\u50a8\u5f15\u64ce \u00b6 /* \u521b\u5efa\u6570\u636e\u8868\u6307\u5b9a\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 CREATE TABLE \u8868\u540d( \u5217\u540d,\u6570\u636e\u7c7b\u578b, ... )ENGINE = \u5f15\u64ce\u540d\u79f0; */ \u4fee\u6539\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u00b6 /* \u4fee\u6539\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 ALTER TABLE \u8868\u540d ENGINE = \u5f15\u64ce\u540d\u79f0; */ -- \u4fee\u6539engine_test\u8868\u7684\u5f15\u64ce\u4e3aInnoDB ALTER TABLE engine_test ENGINE = INNODB; -- \u67e5\u8be2engine_test\u8868\u7684\u5b58\u50a8\u5f15\u64ce SHOW TABLE STATUS FROM db11 WHERE NAME = ' engine_test ' ; 02\u7d22\u5f15 \u00b6 \u7d22\u5f15\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb12\u6570\u636e\u5e93 CREATE DATABASE db12; -- \u4f7f\u7528db12\u6570\u636e\u5e93 USE db12; -- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10), age INT, score INT ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,98),(NULL,'\u674e\u56db',24,95), (NULL,'\u738b\u4e94',25,96),(NULL,'\u8d75\u516d',26,94),(NULL,'\u5468\u4e03',27,99); \u521b\u5efa\u548c\u67e5\u8be2\u7d22\u5f15 \u00b6 \u521b\u5efa\u7d22\u5f15 \u00b6 /* \u521b\u5efa\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 CREATE [UNIQUE|FULLTEXT] INDEX \u7d22\u5f15\u540d\u79f0 [USING \u7d22\u5f15\u7c7b\u578b] -- \u9ed8\u8ba4\u662fB+TREE ON \u8868\u540d(\u5217\u540d...); */ -- \u4e3astudent\u8868\u4e2d\u7684name\u5217\u521b\u5efa\u4e00\u4e2a\u666e\u901a\u7d22\u5f15 CREATE INDEX idx_name ON student(NAME); -- \u4e3astudent\u8868\u4e2d\u7684age\u5217\u521b\u5efa\u4e00\u4e2a\u552f\u4e00\u7d22\u5f15 CREATE UNIQUE INDEX idx_age ON student(age); \u67e5\u8be2\u7d22\u5f15 \u00b6 /* \u67e5\u8be2\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 SHOW INDEX FROM \u8868\u540d; */ -- \u67e5\u8be2student\u8868\u4e2d\u7684\u7d22\u5f15 SHOW INDEX FROM student ; ALTER\u6dfb\u52a0\u7d22\u5f15 \u00b6 /* ALTER\u6dfb\u52a0\u7d22\u5f15 -- \u666e\u901a\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD INDEX \u7d22\u5f15\u540d\u79f0(\u5217\u540d); -- \u7ec4\u5408\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD INDEX \u7d22\u5f15\u540d\u79f0(\u5217\u540d1,\u5217\u540d2,...); -- \u4e3b\u952e\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD PRIMARY KEY(\u4e3b\u952e\u5217\u540d); -- \u5916\u952e\u7d22\u5f15(\u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u5c31\u662f\u5916\u952e\u7d22\u5f15) ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); -- \u552f\u4e00\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD UNIQUE \u7d22\u5f15\u540d\u79f0(\u5217\u540d); -- \u5168\u6587\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD FULLTEXT \u7d22\u5f15\u540d\u79f0(\u5217\u540d); */ -- \u4e3astudent\u8868\u4e2dname\u5217\u6dfb\u52a0\u5168\u6587\u7d22\u5f15 ALTER TABLE student ADD FULLTEXT idx_fulltext_name(NAME); -- \u67e5\u8be2student\u8868\u7684\u7d22\u5f15 SHOW INDEX FROM student ; \u5220\u9664\u7d22\u5f15 \u00b6 /* \u5220\u9664\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 DROP INDEX \u7d22\u5f15\u540d\u79f0 ON \u8868\u540d; */ -- \u5220\u9664idx_name\u7d22\u5f15 DROP INDEX idx_name ON student; \u7d22\u5f15\u7684\u6548\u7387\u6d4b\u8bd5 \u00b6 -- \u521b\u5efa product\u5546\u54c1\u8868 CREATE TABLE product ( id INT PRIMARY KEY AUTO_INCREMENT , -- \u5546\u54c1 id NAME VARCHAR ( 10 ), -- \u5546\u54c1\u540d\u79f0 price INT -- \u5546\u54c1\u4ef7\u683c ); -- \u5b9a\u4e49\u5b58\u50a8\u51fd\u6570\uff0c\u751f\u6210\u957f\u5ea6\u4e3a 10 \u7684\u968f\u673a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de DELIMITER $ CREATE FUNCTION rand_string () RETURNS VARCHAR ( 255 ) BEGIN DECLARE big_str VARCHAR ( 100 ) DEFAULT 'abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ' ; DECLARE small_str VARCHAR ( 255 ) DEFAULT '' ; DECLARE i INT DEFAULT 1 ; WHILE i <= 10 DO SET small_str = CONCAT ( small_str , SUBSTRING ( big_str , FLOOR ( 1 + RAND () * 52 ), 1 )); SET i = i + 1 ; END WHILE ; RETURN small_str ; END $ DELIMITER ; -- \u5b9a\u4e49\u5b58\u50a8\u8fc7\u7a0b\uff0c\u6dfb\u52a0 100 \u4e07\u6761\u6570\u636e\u5230 product\u8868\u4e2d DELIMITER $ CREATE PROCEDURE pro_test () BEGIN DECLARE num INT DEFAULT 1 ; WHILE num <= 1000000 DO INSERT INTO product VALUES ( NULL , rand_string (), num ); SET num = num + 1 ; END WHILE ; END $ DELIMITER ; -- \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b CALL pro_test (); -- \u67e5\u8be2\u603b\u8bb0\u5f55\u6761\u6570 SELECT COUNT ( * ) FROM product ; -- \u67e5\u8be2 product\u8868\u7684\u7d22\u5f15 SHOW INDEX FROM product ; -- \u67e5\u8be2 name\u4e3aOkIKDLVwtG\u7684\u6570\u636e ( 0.049 ) SELECT * FROM product WHERE NAME = 'OkIKDLVwtG' ; -- \u901a\u8fc7 id\u5217\u67e5\u8be2OkIKDLVwtG\u7684\u6570\u636e ( 1 \u6beb\u79d2 ) SELECT * FROM product WHERE id = 999998 ; -- \u4e3a name\u5217\u6dfb\u52a0\u7d22\u5f15 ALTER TABLE product ADD INDEX idx_name ( NAME ); -- \u67e5\u8be2 name\u4e3aOkIKDLVwtG\u7684\u6570\u636e ( 0.001 ) SELECT * FROM product WHERE NAME = 'OkIKDLVwtG' ; /* \u8303\u56f4\u67e5\u8be2 */ -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e ( 0.052 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ; /* \u6392\u5e8f\u67e5\u8be2 */ -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e , \u964d\u5e8f\u6392\u5217 ( 0.083 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ORDER BY price DESC ; -- \u4e3a price\u5217\u6dfb\u52a0\u7d22\u5f15 ALTER TABLE product ADD INDEX idx_price ( price ); -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e ( 0.011 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ; -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e , \u964d\u5e8f\u6392\u5217 ( 0.001 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ORDER BY price DESC ; 03\u9501 \u00b6 InnoDB\u9501\u7684\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efadb13\u6570\u636e\u5e93 CREATE DATABASE db13; -- \u4f7f\u7528db13\u6570\u636e\u5e93 USE db13; -- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10), age INT, score INT ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,99),(NULL,'\u674e\u56db',24,95), (NULL,'\u738b\u4e94',25,98),(NULL,'\u8d75\u516d',26,97); InnoDB\u5171\u4eab\u9501_\u7a97\u53e31 \u00b6 -- \u7a97\u53e31 /* \u5171\u4eab\u9501\uff1a\u6570\u636e\u53ef\u4ee5\u88ab\u591a\u4e2a\u4e8b\u52a1\u67e5\u8be2\uff0c\u4f46\u662f\u4e0d\u80fd\u4fee\u6539 \u521b\u5efa\u9501\u7684\u683c\u5f0f SELECT\u8bed\u53e5 LOCK IN SHARE MODE; */ -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 SELECT * FROM student WHERE id=1 LOCK IN SHARE MODE; -- \u67e5\u8be2\u5206\u6570\u4e3a99\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 SELECT * FROM student WHERE score=99 LOCK IN SHARE MODE; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT; InnoDB\u5171\u4eab\u9501_\u7a97\u53e32 \u00b6 -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002(\u666e\u901a\u67e5\u8be2\u6ca1\u95ee\u9898) SELECT * FROM student WHERE id=1; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501(\u5171\u4eab\u9501\u548c\u5171\u4eab\u9501\u662f\u517c\u5bb9\u7684) SELECT * FROM student WHERE id=1 LOCK IN SHARE MODE; -- \u4fee\u6539id\u4e3a1\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u5f20\u4e09\u4e09(\u4fee\u6539\u5931\u8d25\uff0c\u4f1a\u51fa\u73b0\u9501\u7684\u60c5\u51b5\u3002\u53ea\u6709\u7a97\u53e31\u63d0\u4ea4\u4e8b\u52a1\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE student SET NAME='\u5f20\u4e09\u4e09' WHERE id=1; -- \u4fee\u6539id\u4e3a2\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u674e\u56db\u56db(\u4fee\u6539\u6210\u529f\u3002InnoDB\u5f15\u64ce\u9ed8\u8ba4\u662f\u884c\u9501) UPDATE student SET NAME='\u674e\u56db\u56db' WHERE id=2; -- \u4fee\u6539id\u4e3a3\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u738b\u4e94\u4e94(\u6ce8\u610f\uff1aInnoDB\u5f15\u64ce\u5982\u679c\u4e0d\u91c7\u7528\u5e26\u7d22\u5f15\u7684\u5217\uff0c\u5219\u4f1a\u63d0\u5347\u4e3a\u8868\u9501) UPDATE student SET NAME='\u738b\u4e94\u4e94' WHERE id=3; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT; InnoDB\u6392\u4ed6\u9501_\u7a97\u53e31 \u00b6 -- \u7a97\u53e3 1 /* \u6392\u4ed6\u9501\uff1a\u52a0\u9501\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u52a0\u9501\u67e5\u8be2\u6216\u4fee\u6539 \u6392\u4ed6\u9501\u521b\u5efa\u683c\u5f0f SELECT\u8bed\u53e5 FOR UPDATE; */ -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u6392\u4ed6\u9501 SELECT * FROM student WHERE id = 1 FOR UPDATE ; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT ; InnoDB\u6392\u4ed6\u9501_\u7a97\u53e32 \u00b6 -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002 ( \u666e\u901a\u67e5\u8be2\u6ca1\u95ee\u9898 ) SELECT * FROM student WHERE id = 1 ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 ( \u6392\u4ed6\u9501\u4e0d\u80fd\u548c\u5171\u4eab\u9501\u5171\u5b58 ) SELECT * FROM student WHERE id = 1 LOCK IN SHARE MODE ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u6392\u4ed6\u9501 ( \u6392\u4ed6\u9501\u548c\u6392\u4ed6\u9501\u4e0d\u80fd\u5171\u5b58 ) SELECT * FROM student WHERE id = 1 FOR UPDATE ; -- \u4fee\u6539 id \u4e3a 1 \u7684\u6570\u636e\u3002\u5c06\u59d3\u540d\u4fee\u6539\u4e3a\u5f20\u4e09\u4e09 ( \u4e0d\u80fd\u4fee\u6539\u3002\u4f1a\u51fa\u73b0\u9501\u7684\u60c5\u51b5\u3002\u53ea\u6709\u7a97\u53e3 1 \u63d0\u4ea4\u4e8b\u52a1\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f ) UPDATE student SET NAME = ' \u5f20\u4e09\u4e09 ' WHERE id = 1 ; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT ; MYISAM\u9501\u7684\u6570\u636e\u51c6\u5907 \u00b6 -- \u521b\u5efaproduct\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(20), price INT )ENGINE = MYISAM; -- \u6307\u5b9a\u5b58\u50a8\u5f15\u64ce\u4e3aMyISAM -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (NULL,'\u534e\u4e3a\u624b\u673a',4999),(NULL,'\u5c0f\u7c73\u624b\u673a',2999), (NULL,'\u82f9\u679c',8999),(NULL,'\u4e2d\u5174',1999); MYISAM\u8bfb\u9501_\u7a97\u53e31 \u00b6 /* \u8bfb\u9501\uff1a\u6240\u6709\u8fde\u63a5\u53ea\u80fd\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u80fd\u4fee\u6539 \u52a0\u9501 LOCK TABLE \u8868\u540d READ; \u89e3\u9501(\u5c06\u5f53\u524d\u4f1a\u8bdd\u6240\u6709\u7684\u8868\u8fdb\u884c\u89e3\u9501) UNLOCK TABLES; */ -- \u4e3aproduct\u8868\u6dfb\u52a0\u8bfb\u9501 LOCK TABLE product READ; -- \u67e5\u8be2product\u8868(\u67e5\u8be2\u6210\u529f) SELECT * FROM product; -- \u5c06id\u4e3a1\u7684\u4ef7\u683c\u4fee\u6539\u4e3a5999(\u4e0d\u80fd\u4fee\u6539) UPDATE product SET price=5999 WHERE id=1; -- \u89e3\u9501 UNLOCK TABLES; MYISAM\u8bfb\u9501_\u7a97\u53e32 \u00b6 -- \u67e5\u8be2product\u8868(\u67e5\u8be2\u6210\u529f) SELECT * FROM product; -- \u5c06id\u4e3a1\u7684\u4ef7\u683c\u4fee\u6539\u4e3a5999(\u4e0d\u80fd\u4fee\u6539\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE product SET price=5999 WHERE id=1; MYISAM\u5199\u9501_\u7a97\u53e31 \u00b6 /* \u5199\u9501\uff1a\u5176\u4ed6\u8fde\u63a5\u4e0d\u80fd\u67e5\u8be2\u548c\u4fee\u6539\u6570\u636e \u52a0\u9501 LOCK TABLE \u8868\u540d WRITE; \u89e3\u9501(\u5c06\u5f53\u524d\u4f1a\u8bdd\u6240\u6709\u7684\u8868\u8fdb\u884c\u89e3\u9501) UNLOCK TABLES; */ -- \u4e3a product\u8868\u6dfb\u52a0\u5199\u9501 LOCK TABLE product WRITE ; -- \u67e5\u8be2 product\u8868 ( \u67e5\u8be2\u6210\u529f ) SELECT * FROM product ; -- \u4fee\u6539 id\u4e3a2\u7684\u4ef7\u683c\u4e3a3999 ( \u4fee\u6539\u6210\u529f ) UPDATE product SET price = 3999 WHERE id = 2 ; -- \u89e3\u9501 UNLOCK TABLES ; MYISAM\u5199\u9501_\u7a97\u53e32 \u00b6 -- \u67e5\u8be2product\u8868\uff08\u67e5\u8be2\u5931\u8d25\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\uff0c\u624d\u80fd\u67e5\u8be2\u6210\u529f\uff09 SELECT * FROM product; -- \u4fee\u6539id\u4e3a2\u7684\u4ef7\u683c\u4e3a1999(\u4fee\u6539\u5931\u8d25\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE product SET price=1999 WHERE id=2; \u4e50\u89c2\u9501 \u00b6 -- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id NAME VARCHAR(20), -- \u57ce\u5e02\u540d\u79f0 VERSION INT -- \u7248\u672c\u53f7 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u5e7f\u5dde',1),(NULL,'\u6df1\u5733',1); -- \u5c06\u5317\u4eac\u4fee\u6539\u4e3a\u5317\u4eac\u5e02 -- 1.\u5c06\u5317\u4eac\u7684\u7248\u672c\u53f7\u8bfb\u53d6\u51fa\u6765 SELECT VERSION FROM city WHERE NAME='\u5317\u4eac'; -- 1 -- 2.\u4fee\u6539\u5317\u4eac\u4e3a\u5317\u4eac\u5e02\uff0c\u7248\u672c\u53f7+1.\u5e76\u5bf9\u6bd4\u7248\u672c\u53f7\u662f\u5426\u76f8\u540c UPDATE city SET NAME='\u5317\u4eac\u5e02',VERSION=VERSION+1 WHERE NAME='\u5317\u4eac' AND VERSION=1; 04\u4e3b\u4ece\u590d\u5236 \u00b6 \u4e3b\u4ece\u590d\u5236_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u4e3b\u670d\u52a1\u5668\u521b\u5efadb1\u6570\u636e\u5e93,\u4ece\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u540c\u6b65 CREATE DATABASE db1; \u4e3b\u4ece\u590d\u5236_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u4ece\u670d\u52a1\u5668\u521b\u5efadb2\u6570\u636e\u5e93,\u4e3b\u670d\u52a1\u5668\u4e0d\u4f1a\u81ea\u52a8\u540c\u6b65 CREATE DATABASE db2; 05\u8bfb\u5199\u5206\u79bb \u00b6 \u8bfb\u5199\u5206\u79bb_mycat\u64cd\u4f5c \u00b6 -- \u521b\u5efa\u5b66\u751f\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10) ); -- \u67e5\u8be2\u5b66\u751f\u8868 SELECT * FROM student; -- \u6dfb\u52a0\u4e24\u6761\u8bb0\u5f55 INSERT INTO student VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u505c\u6b62\u4e3b\u4ece\u590d\u5236\u540e\uff0c\u6dfb\u52a0\u7684\u6570\u636e\u53ea\u4f1a\u4fdd\u5b58\u5230\u4e3b\u670d\u52a1\u5668\u4e0a\u3002 INSERT INTO student VALUES (NULL,'\u738b\u4e94'); \u8bfb\u5199\u5206\u79bb_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u4e3b\u670d\u52a1\u5668\uff1a\u67e5\u8be2\u5b66\u751f\u8868\uff0c\u53ef\u4ee5\u770b\u5230\u6570\u636e SELECT * FROM student; \u8bfb\u5199\u5206\u79bb_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u4ece\u670d\u52a1\u5668\uff1a\u67e5\u8be2\u5b66\u751f\u8868\uff0c\u53ef\u4ee5\u770b\u5230\u6570\u636e(\u56e0\u4e3a\u6709\u4e3b\u4ece\u590d\u5236) SELECT * FROM student; -- \u4ece\u670d\u52a1\u5668\uff1a\u5220\u9664\u4e00\u6761\u8bb0\u5f55\u3002(\u4e3b\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u5220\u9664\uff0cmycat\u4e2d\u95f4\u4ef6\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e) DELETE FROM student WHERE id=2; 06\u6c34\u5e73\u62c6\u5206 \u00b6 \u6c34\u5e73\u62c6\u5206_mycat\u64cd\u4f5c \u00b6 -- \u521b\u5efa product \u8868 CREATE TABLE product ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 20 ) , price INT ) ; -- \u6dfb\u52a0 6 \u6761\u6570\u636e INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u82f9\u679c\u624b\u673a ' , 6999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u534e\u4e3a\u624b\u673a ' , 5999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u4e09\u661f\u624b\u673a ' , 4999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u5c0f\u7c73\u624b\u673a ' , 3999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u4e2d\u5174\u624b\u673a ' , 2999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' OOPO\u624b\u673a ' , 1999 ) ; -- \u67e5\u8be2 product \u8868 SELECT * FROM product ; \u6c34\u5e73\u62c6\u5206_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u5728\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u67e5\u8be2product\u8868 SELECT * FROM product; \u6c34\u5e73\u62c6\u5206_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u5728\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u67e5\u8be2product\u8868 SELECT * FROM product; 07\u5782\u76f4\u62c6\u5206 \u00b6 \u5782\u76f4\u62c6\u5206_mycat\u64cd\u4f5c \u00b6 -- \u521b\u5efa dog \u8868 CREATE TABLE dog ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO dog ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u54c8\u58eb\u5947 ' ) ; -- \u67e5\u8be2 dog \u8868 SELECT * FROM dog ; -- \u521b\u5efa cat \u8868 CREATE TABLE cat ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO cat ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u6ce2\u65af\u732b ' ) ; -- \u67e5\u8be2 cat \u8868 SELECT * FROM cat ; -- \u521b\u5efa apple \u8868 CREATE TABLE apple ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO apple ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u7ea2\u5bcc\u58eb ' ) ; -- \u67e5\u8be2 apple \u8868 SELECT * FROM apple ; -- \u521b\u5efa banana \u8868 CREATE TABLE banana ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO banana ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u9999\u8549 ' ) ; -- \u67e5\u8be2 banana \u8868 SELECT * FROM banana ; \u5782\u76f4\u62c6\u5206_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u67e5\u8be2dog\u8868 SELECT * FROM dog; -- \u67e5\u8be2cat\u8868 SELECT * FROM cat; -- \u67e5\u8be2apple\u8868 SELECT * FROM apple; -- \u67e5\u8be2banana\u8868 SELECT * FROM banana; \u5782\u76f4\u62c6\u5206_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c \u00b6 -- \u67e5\u8be2dog\u8868 SELECT * FROM dog; -- \u67e5\u8be2cat\u8868 SELECT * FROM cat; -- \u67e5\u8be2apple\u8868 SELECT * FROM apple; -- \u67e5\u8be2banana\u8868 SELECT * FROM banana;","title":"Mysql"},{"location":"MySQL/#mysql","text":"Reference Manual","title":"MySQL \u53c2\u8003\u624b\u518c"},{"location":"MySQL/#day01","text":"","title":"day01"},{"location":"MySQL/#01","text":"","title":"01\u64cd\u4f5c\u6570\u636e\u5e93\u548c\u6570\u636e\u8868"},{"location":"MySQL/#_1","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW DATABASES; */","title":"\u67e5\u8be2\u6240\u6709\u6570\u636e\u5e93"},{"location":"MySQL/#_2","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5"},{"location":"MySQL/#_3","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u521b\u5efa\u6570\u636e\u5e93"},{"location":"MySQL/#_4","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE IF NOT EXISTS \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u521b\u5efa\u6570\u636e\u5e93\uff0c\u5224\u65ad\u3001\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa"},{"location":"MySQL/#_5","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0 CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */","title":"\u521b\u5efa\u6570\u636e\u5e93\u3001\u5e76\u6307\u5b9a\u5b57\u7b26\u96c6"},{"location":"MySQL/#_6","text":"SHOW CREATE DATABASE \u6570\u636e\u5e93\u540d\u79f0 ;","title":"\u67e5\u770b\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6"},{"location":"MySQL/#_7","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER DATABASE \u6570\u636e\u5e93\u540d\u79f0 CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */","title":"\u4fee\u6539\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6"},{"location":"MySQL/#_8","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DROP DATABASE \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u5220\u9664\u6570\u636e\u5e93"},{"location":"MySQL/#_9","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DROP DATABASE IF EXISTS \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u5220\u9664\u6570\u636e\u5e93\uff0c\u5224\u65ad\u3001\u5982\u679c\u5b58\u5728\u5219\u5220\u9664"},{"location":"MySQL/#_10","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a USE \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u4f7f\u7528\u6570\u636e\u5e93"},{"location":"MySQL/#_11","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT DATABASE(); */","title":"\u67e5\u8be2\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93"},{"location":"MySQL/#_12","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW TABLES; */","title":"\u67e5\u8be2\u6240\u6709\u6570\u636e\u8868"},{"location":"MySQL/#_13","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DESC \u8868\u540d; */","title":"\u67e5\u8be2\u8868\u7ed3\u6784"},{"location":"MySQL/#_14","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0 LIKE '\u8868\u540d'; */","title":"\u67e5\u8be2\u6570\u636e\u8868\u7684\u5b57\u7b26\u96c6"},{"location":"MySQL/#_15","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a CREATE TABLE \u8868\u540d( \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f, \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f, ... \u5217\u540d \u6570\u636e\u7c7b\u578b \u7ea6\u675f ); */","title":"\u521b\u5efa\u6570\u636e\u8868"},{"location":"MySQL/#_16","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u65e7\u8868\u540d RENAME TO \u65b0\u8868\u540d; */","title":"\u4fee\u6539\u8868\u540d"},{"location":"MySQL/#_17","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d CHARACTER SET \u5b57\u7b26\u96c6\u540d\u79f0; */","title":"\u4fee\u6539\u8868\u7684\u5b57\u7b26\u96c6"},{"location":"MySQL/#_18","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD \u5217\u540d \u6570\u636e\u7c7b\u578b; */","title":"\u7ed9\u8868\u6dfb\u52a0\u5217"},{"location":"MySQL/#_19","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d MODIFY \u5217\u540d \u6570\u636e\u7c7b\u578b; */","title":"\u4fee\u6539\u8868\u4e2d\u5217\u7684\u6570\u636e\u7c7b\u578b"},{"location":"MySQL/#_20","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d CHANGE \u65e7\u5217\u540d \u65b0\u5217\u540d \u6570\u636e\u7c7b\u578b; */","title":"\u4fee\u6539\u8868\u4e2d\u5217\u7684\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b"},{"location":"MySQL/#_21","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP \u5217\u540d; */","title":"\u5220\u9664\u8868\u4e2d\u7684\u5217"},{"location":"MySQL/#_22","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DROP TABLE \u8868\u540d; */","title":"\u5220\u9664\u8868"},{"location":"MySQL/#_23","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DROP TABLE IF EXISTS \u8868\u540d; */","title":"\u5220\u9664\u8868\uff0c\u5224\u65ad\u3001\u5982\u679c\u5b58\u5728\u5219\u5220\u9664"},{"location":"MySQL/#02","text":"","title":"02\u8868\u6570\u636e\u7684\u589e\u5220\u6539"},{"location":"MySQL/#_24","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d(\u5217\u540d1,\u5217\u540d2,...) VALUES (\u503c1,\u503c2,...); */","title":"\u7ed9\u6307\u5b9a\u5217\u6dfb\u52a0\u6570\u636e"},{"location":"MySQL/#_25","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d VALUES (\u503c1,\u503c2,\u503c3,...); */","title":"\u7ed9\u5168\u90e8\u5217\u6dfb\u52a0\u6570\u636e"},{"location":"MySQL/#_26","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a INSERT INTO \u8868\u540d VALUES (\u503c1,\u503c2,\u503c3,...),(\u503c1,\u503c2,\u503c3,...),(\u503c1,\u503c2,\u503c3,...); */","title":"\u6279\u91cf\u6dfb\u52a0\u6240\u6709\u5217\u6570\u636e"},{"location":"MySQL/#_27","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a UPDATE \u8868\u540d SET \u5217\u540d1 = \u503c1,\u5217\u540d2 = \u503c2,... [where \u6761\u4ef6]; */","title":"\u4fee\u6539\u8868\u6570\u636e"},{"location":"MySQL/#_28","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a DELETE FROM \u8868\u540d [WHERE \u6761\u4ef6]; */","title":"\u5220\u9664\u8868\u6570\u636e"},{"location":"MySQL/#03","text":"","title":"03\u8868\u6570\u636e\u7684\u67e5\u8be2"},{"location":"MySQL/#_29","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT * FROM \u8868\u540d; */","title":"\u67e5\u8be2\u5168\u90e8\u6570\u636e"},{"location":"MySQL/#_30","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1,\u5217\u540d2,... FROM \u8868\u540d; */","title":"\u67e5\u8be2\u6307\u5b9a\u5217"},{"location":"MySQL/#_31","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT DISTINCT \u5217\u540d1,\u5217\u540d2,... FROM \u8868\u540d; */","title":"\u53bb\u9664\u91cd\u590d\u67e5\u8be2"},{"location":"MySQL/#_32","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1 \u8fd0\u7b97\u7b26(+ - * /) \u5217\u540d2 FROM \u8868\u540d; \u5982\u679c\u67d0\u4e00\u5217\u4e3anull\uff0c\u53ef\u4ee5\u8fdb\u884c\u66ff\u6362 ifnull(\u8868\u8fbe\u5f0f1,\u8868\u8fbe\u5f0f2) \u8868\u8fbe\u5f0f1\uff1a\u60f3\u66ff\u6362\u7684\u5217 \u8868\u8fbe\u5f0f2\uff1a\u60f3\u66ff\u6362\u7684\u503c */ example -- \u67e5\u8be2\u5546\u54c1\u540d\u79f0\u548c\u5e93\u5b58\uff0c\u5e93\u5b58\u6570\u91cf\u5728\u539f\u6709\u57fa\u7840\u4e0a\u52a010 SELECT NAME,stock+10 FROM product; -- \u67e5\u8be2\u5546\u54c1\u540d\u79f0\u548c\u5e93\u5b58\uff0c\u5e93\u5b58\u6570\u91cf\u5728\u539f\u6709\u57fa\u7840\u4e0a\u52a010\u3002\u8fdb\u884cnull\u503c\u5224\u65ad SELECT NAME,IFNULL(stock,0)+10 FROM product;","title":"\u8ba1\u7b97\u5217\u7684\u503c"},{"location":"MySQL/#_33","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d1,\u5217\u540d2,... AS \u522b\u540d FROM \u8868\u540d; */ as\u53ef\u4ee5\u7701\u7565","title":"\u8d77\u522b\u540d"},{"location":"MySQL/#_34","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d\u5217\u8868 FROM \u8868\u540d WHERE \u6761\u4ef6; */ example -- \u67e5\u8be2\u5e93\u5b58\u5927\u4e8e20\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock > 20; -- \u67e5\u8be2\u54c1\u724c\u4e3a\u534e\u4e3a\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE brand='\u534e\u4e3a'; -- \u67e5\u8be2\u91d1\u989d\u57284000 ~ 6000\u4e4b\u95f4\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE price >= 4000 AND price <= 6000; SELECT * FROM product WHERE price BETWEEN 4000 AND 6000; -- \u67e5\u8be2\u5e93\u5b58\u4e3a14\u300130\u300123\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock=14 OR stock=30 OR stock=23; SELECT * FROM product WHERE stock IN(14,30,23); -- \u67e5\u8be2\u5e93\u5b58\u4e3anull\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock IS NULL; -- \u67e5\u8be2\u5e93\u5b58\u4e0d\u4e3anull\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE stock IS NOT NULL; -- \u67e5\u8be2\u540d\u79f0\u4ee5\u5c0f\u7c73\u4e3a\u5f00\u5934\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '\u5c0f\u7c73%'; -- \u67e5\u8be2\u540d\u79f0\u7b2c\u4e8c\u4e2a\u5b57\u662f\u4e3a\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '_\u4e3a%'; -- \u67e5\u8be2\u540d\u79f0\u4e3a\u56db\u4e2a\u5b57\u7b26\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '____'; -- \u67e5\u8be2\u540d\u79f0\u4e2d\u5305\u542b\u7535\u8111\u7684\u5546\u54c1\u4fe1\u606f SELECT * FROM product WHERE NAME LIKE '%\u7535\u8111%';","title":"\u6761\u4ef6\u67e5\u8be2"},{"location":"MySQL/#_35","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u51fd\u6570\u540d(\u5217\u540d) FROM \u8868\u540d [WHERE \u6761\u4ef6]; */ example -- \u8ba1\u7b97product\u8868\u4e2d\u603b\u8bb0\u5f55\u6761\u6570 SELECT COUNT(*) FROM product; -- \u83b7\u53d6\u6700\u9ad8\u4ef7\u683c SELECT MAX(price) FROM product; -- \u83b7\u53d6\u6700\u4f4e\u5e93\u5b58 SELECT MIN(stock) FROM product; -- \u83b7\u53d6\u603b\u5e93\u5b58\u6570\u91cf SELECT SUM(stock) FROM product; -- \u83b7\u53d6\u54c1\u724c\u4e3a\u82f9\u679c\u7684\u603b\u5e93\u5b58\u6570\u91cf SELECT SUM(stock) FROM product WHERE brand='\u82f9\u679c'; -- \u83b7\u53d6\u54c1\u724c\u4e3a\u5c0f\u7c73\u7684\u5e73\u5747\u5546\u54c1\u4ef7\u683c SELECT AVG(price) FROM product WHERE brand='\u5c0f\u7c73';","title":"\u805a\u5408\u51fd\u6570"},{"location":"MySQL/#_36","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] ORDER BY \u5217\u540d1 \u6392\u5e8f\u65b9\u5f0f1,\u5217\u540d2 \u6392\u5e8f\u65b9\u5f0f2; */ example -- \u6309\u7167\u5e93\u5b58\u5347\u5e8f\u6392\u5e8f SELECT * FROM product ORDER BY stock ASC; -- \u67e5\u8be2\u540d\u79f0\u4e2d\u5305\u542b\u624b\u673a\u7684\u5546\u54c1\u4fe1\u606f\u3002\u6309\u7167\u91d1\u989d\u964d\u5e8f\u6392\u5e8f SELECT * FROM product WHERE NAME LIKE '%\u624b\u673a%' ORDER BY price DESC; -- \u6309\u7167\u91d1\u989d\u5347\u5e8f\u6392\u5e8f\uff0c\u5982\u679c\u91d1\u989d\u76f8\u540c\uff0c\u6309\u7167\u5e93\u5b58\u964d\u5e8f\u6392\u5217 SELECT * FROM product ORDER BY price ASC,stock DESC;","title":"\u6392\u5e8f\u67e5\u8be2"},{"location":"MySQL/#_37","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] GROUP BY \u5206\u7ec4\u5217\u540d [HAVING \u5206\u7ec4\u540e\u6761\u4ef6\u8fc7\u6ee4] [ORDER BY \u6392\u5e8f\u5217\u540d \u6392\u5e8f\u65b9\u5f0f]; */","title":"\u5206\u7ec4\u67e5\u8be2"},{"location":"MySQL/#_38","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6] [GROUP BY \u5206\u7ec4\u5217\u540d] [HAVING \u5206\u7ec4\u540e\u6761\u4ef6\u8fc7\u6ee4] [ORDER BY \u6392\u5e8f\u5217\u540d \u6392\u5e8f\u65b9\u5f0f] LIMIT \u5f53\u524d\u9875\u6570,\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570; LIMIT \u5f53\u524d\u9875\u6570,\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570; \u516c\u5f0f\uff1a\u5f53\u524d\u9875\u6570 = (\u5f53\u524d\u9875\u6570-1) * \u6bcf\u9875\u663e\u793a\u7684\u6761\u6570 */ example -- \u6bcf\u9875\u663e\u793a3\u6761\u6570\u636e -- \u7b2c1\u9875 \u5f53\u524d\u9875\u6570=(1-1) * 3 SELECT * FROM product LIMIT 0,3; -- \u7b2c2\u9875 \u5f53\u524d\u9875\u6570=(2-1) * 3 SELECT * FROM product LIMIT 3,3; -- \u7b2c3\u9875 \u5f53\u524d\u9875\u6570=(3-1) * 3 SELECT * FROM product LIMIT 6,3;","title":"\u5206\u9875\u67e5\u8be2"},{"location":"MySQL/#04","text":"","title":"04\u7ea6\u675f"},{"location":"MySQL/#_39","text":"-- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e CREATE TABLE student( id INT PRIMARY KEY, NAME VARCHAR(30), age INT ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (1,'\u5f20\u4e09',23); INSERT INTO student VALUES (2,'\u674e\u56db',24); -- \u5220\u9664\u4e3b\u952e ALTER TABLE student DROP PRIMARY KEY; -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u4e3b\u952e\u7ea6\u675f ALTER TABLE student MODIFY id INT PRIMARY KEY;","title":"\u4e3b\u952e\u7ea6\u675f"},{"location":"MySQL/#_40","text":"-- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30), age INT ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23),(NULL,'\u674e\u56db',24); -- \u5220\u9664\u81ea\u589e\u7ea6\u675f ALTER TABLE student MODIFY id INT; INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u81ea\u589e\u7ea6\u675f ALTER TABLE student MODIFY id INT AUTO_INCREMENT;","title":"\u4e3b\u952e\u81ea\u589e\u7ea6\u675f"},{"location":"MySQL/#_41","text":"-- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e\uff0c\u5e74\u9f84\u8bbe\u4e3a\u552f\u4e00 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30), age INT UNIQUE ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); INSERT INTO student VALUES (NULL,'\u674e\u56db',23); -- \u5220\u9664\u552f\u4e00\u7ea6\u675f ALTER TABLE student DROP INDEX age; -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u552f\u4e00\u7ea6\u675f ALTER TABLE student MODIFY age INT UNIQUE;","title":"\u552f\u4e00\u7ea6\u675f"},{"location":"MySQL/#_42","text":"-- \u521b\u5efa\u5b66\u751f\u8868(\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84) \u7f16\u53f7\u8bbe\u4e3a\u4e3b\u952e\u81ea\u589e\uff0c\u59d3\u540d\u8bbe\u4e3a\u975e\u7a7a\uff0c\u5e74\u9f84\u8bbe\u4e3a\u552f\u4e00 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(30) NOT NULL, age INT UNIQUE ); -- \u67e5\u8be2\u5b66\u751f\u8868\u7684\u8be6\u7ec6\u4fe1\u606f DESC student; -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23); -- \u5220\u9664\u975e\u7a7a\u7ea6\u675f ALTER TABLE student MODIFY NAME VARCHAR(30); INSERT INTO student VALUES (NULL,NULL,25); -- \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u975e\u7a7a\u7ea6\u675f ALTER TABLE student MODIFY NAME VARCHAR(30) NOT NULL;","title":"\u975e\u7a7a\u7ea6\u675f"},{"location":"MySQL/#day02","text":"","title":"day02"},{"location":"MySQL/#01_1","text":"","title":"01\u7ea6\u675f"},{"location":"MySQL/#_43","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u8868\u4e3b\u952e\u5217\u540d) */","title":"\u5916\u952e\u7ea6\u675f"},{"location":"MySQL/#_44","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP FOREIGN KEY \u5916\u952e\u540d; */","title":"\u5220\u9664\u5916\u952e\u7ea6\u675f"},{"location":"MySQL/#_45","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); */ \u5916\u952e\u7ea6\u675fexample -- \u521b\u5efadb2\u6570\u636e\u5e93 CREATE DATABASE db2; -- \u4f7f\u7528db2\u6570\u636e\u5e93 USE db2; /* \u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u8868\u4e3b\u952e\u5217\u540d) */ -- \u5efa\u8868\u65f6\u6dfb\u52a0\u5916\u952e\u7ea6\u675f -- \u521b\u5efauser\u7528\u6237\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- id NAME VARCHAR(20) NOT NULL -- \u59d3\u540d ); -- \u6dfb\u52a0\u7528\u6237\u6570\u636e INSERT INTO USER VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efaorderlist\u8ba2\u5355\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- id number VARCHAR(20) NOT NULL, -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5217 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u8ba2\u5355\u6570\u636e INSERT INTO orderlist VALUES (NULL,'hm001',1),(NULL,'hm002',1), (NULL,'hm003',2),(NULL,'hm004',2); -- \u6dfb\u52a0\u4e00\u4e2a\u8ba2\u5355\uff0c\u4f46\u662f\u6ca1\u6709\u771f\u5b9e\u7528\u6237\u3002\u6dfb\u52a0\u5931\u8d25 INSERT INTO orderlist VALUES (NULL,'hm005',3); -- \u5220\u9664\u674e\u56db\u7528\u6237\u3002\u5220\u9664\u5931\u8d25 DELETE FROM USER WHERE NAME='\u674e\u56db'; /* \u5220\u9664\u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d DROP FOREIGN KEY \u5916\u952e\u540d; */ -- \u5220\u9664\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist DROP FOREIGN KEY ou_fk1; /* \u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u5916\u952e\u7ea6\u675f \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); */ -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist ADD CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id);","title":"\u5efa\u8868\u540e\u5355\u72ec\u6dfb\u52a0\u5916\u952e\u7ea6\u675f"},{"location":"MySQL/#_46","text":"/* \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON UPDATE CASCADE; \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u5220\u9664 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON DELETE CASCADE; \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0\u548c\u7ea7\u8054\u5220\u9664 \u6807\u51c6\u8bed\u6cd5\uff1a ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d) ON UPDATE CASCADE ON DELETE CASCADE; */ \u5916\u952e\u7ea7\u8054\u64cd\u4f5cexample -- \u5220\u9664\u5916\u952e\u7ea6\u675f ALTER TABLE orderlist DROP FOREIGN KEY ou_fk1; -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u540c\u65f6\u6dfb\u52a0\u7ea7\u8054\u66f4\u65b0\u548c\u7ea7\u8054\u5220\u9664 ALTER TABLE orderlist ADD CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ON UPDATE CASCADE ON DELETE CASCADE; -- \u5c06\u674e\u56db\u8fd9\u4e2a\u7528\u6237\u7684id\u4fee\u6539\u4e3a3,\u8ba2\u5355\u8868\u4e2d\u7684uid\u4e5f\u81ea\u52a8\u4fee\u6539 UPDATE USER SET id=3 WHERE id=2; -- \u5c06\u674e\u56db\u8fd9\u4e2a\u7528\u6237\u5220\u9664,\u8ba2\u5355\u8868\u4e2d\u7684\u8be5\u7528\u6237\u6240\u5c5e\u7684\u8ba2\u5355\u4e5f\u81ea\u52a8\u5220\u9664 DELETE FROM USER WHERE id=3;","title":"\u5916\u952e\u7ea7\u8054\u64cd\u4f5c"},{"location":"MySQL/#02_1","text":"","title":"02\u591a\u8868\u64cd\u4f5c"},{"location":"MySQL/#_47","text":"-- \u521b\u5efadb3\u6570\u636e\u5e93 CREATE DATABASE db3; -- \u4f7f\u7528db3\u6570\u636e\u5e93 USE db3; -- \u521b\u5efaperson\u8868 CREATE TABLE person( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO person VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efacard\u8868 CREATE TABLE card( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid number VARCHAR(20) UNIQUE NOT NULL, -- \u8eab\u4efd\u8bc1\u53f7 pid INT UNIQUE, -- \u5916\u952e\u5217 CONSTRAINT cp_fk1 FOREIGN KEY (pid) REFERENCES person(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO card VALUES (NULL,'12345',1),(NULL,'56789',2);","title":"\u8868\u5173\u7cfb\u4e00\u5bf9\u4e00"},{"location":"MySQL/#_48","text":"-- \u521b\u5efauser\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO USER VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efaorderlist\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid number VARCHAR(20), -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5217 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO orderlist VALUES (NULL,'hm001',1),(NULL,'hm002',1),(NULL,'hm003',2),(NULL,'hm004',2); /* \u5546\u54c1\u5206\u7c7b\u548c\u5546\u54c1 */ -- \u521b\u5efacategory\u8868 CREATE TABLE category( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(10) -- \u5206\u7c7b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO category VALUES (NULL,'\u624b\u673a\u6570\u7801'),(NULL,'\u7535\u8111\u529e\u516c'); -- \u521b\u5efaproduct\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(30), -- \u5546\u54c1\u540d\u79f0 cid INT, -- \u5916\u952e\u5217 CONSTRAINT pc_fk1 FOREIGN KEY (cid) REFERENCES category(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (NULL,'\u534e\u4e3aP30',1),(NULL,'\u5c0f\u7c73note3',1), (NULL,'\u8054\u60f3\u7535\u8111',2),(NULL,'\u82f9\u679c\u7535\u8111',2);","title":"\u8868\u5173\u7cfb\u4e00\u5bf9\u591a"},{"location":"MySQL/#_49","text":"-- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(20) -- \u5b66\u751f\u59d3\u540d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u521b\u5efacourse\u8868 CREATE TABLE course( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid NAME VARCHAR(10) -- \u8bfe\u7a0b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO course VALUES (NULL,'\u8bed\u6587'),(NULL,'\u6570\u5b66'); -- \u521b\u5efa\u4e2d\u95f4\u8868 CREATE TABLE stu_course( id INT PRIMARY KEY AUTO_INCREMENT, -- \u4e3b\u952eid sid INT, -- \u7528\u4e8e\u548cstudent\u8868\u4e2d\u7684id\u8fdb\u884c\u5916\u952e\u5173\u8054 cid INT, -- \u7528\u4e8e\u548ccourse\u8868\u4e2d\u7684id\u8fdb\u884c\u5916\u952e\u5173\u8054 CONSTRAINT sc_fk1 FOREIGN KEY (sid) REFERENCES student(id), -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f CONSTRAINT sc_fk2 FOREIGN KEY (cid) REFERENCES course(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO stu_course VALUES (NULL,1,1),(NULL,1,2),(NULL,2,1),(NULL,2,2);","title":"\u8868\u5173\u7cfb\u591a\u5bf9\u591a"},{"location":"MySQL/#_50","text":"-- \u521b\u5efadb4\u6570\u636e\u5e93 CREATE DATABASE db4; -- \u4f7f\u7528db4\u6570\u636e\u5e93 USE db4; -- \u521b\u5efauser\u8868 CREATE TABLE USER( id INT PRIMARY KEY AUTO_INCREMENT, -- \u7528\u6237id NAME VARCHAR(20), -- \u7528\u6237\u59d3\u540d age INT -- \u7528\u6237\u5e74\u9f84 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO USER VALUES (1,'\u5f20\u4e09',23); INSERT INTO USER VALUES (2,'\u674e\u56db',24); INSERT INTO USER VALUES (3,'\u738b\u4e94',25); INSERT INTO USER VALUES (4,'\u8d75\u516d',26); -- \u8ba2\u5355\u8868 CREATE TABLE orderlist( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8ba2\u5355id number VARCHAR(30), -- \u8ba2\u5355\u7f16\u53f7 uid INT, -- \u5916\u952e\u5b57\u6bb5 CONSTRAINT ou_fk1 FOREIGN KEY (uid) REFERENCES USER(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO orderlist VALUES (1,'hm001',1); INSERT INTO orderlist VALUES (2,'hm002',1); INSERT INTO orderlist VALUES (3,'hm003',2); INSERT INTO orderlist VALUES (4,'hm004',2); INSERT INTO orderlist VALUES (5,'hm005',3); INSERT INTO orderlist VALUES (6,'hm006',3); INSERT INTO orderlist VALUES (7,'hm007',NULL); -- \u5546\u54c1\u5206\u7c7b\u8868 CREATE TABLE category( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5546\u54c1\u5206\u7c7bid NAME VARCHAR(10) -- \u5546\u54c1\u5206\u7c7b\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO category VALUES (1,'\u624b\u673a\u6570\u7801'); INSERT INTO category VALUES (2,'\u7535\u8111\u529e\u516c'); INSERT INTO category VALUES (3,'\u70df\u9152\u8336\u7cd6'); INSERT INTO category VALUES (4,'\u978b\u9774\u7bb1\u5305'); -- \u5546\u54c1\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5546\u54c1id NAME VARCHAR(30), -- \u5546\u54c1\u540d\u79f0 cid INT, -- \u5916\u952e\u5b57\u6bb5 CONSTRAINT cp_fk1 FOREIGN KEY (cid) REFERENCES category(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (1,'\u534e\u4e3a\u624b\u673a',1); INSERT INTO product VALUES (2,'\u5c0f\u7c73\u624b\u673a',1); INSERT INTO product VALUES (3,'\u8054\u60f3\u7535\u8111',2); INSERT INTO product VALUES (4,'\u82f9\u679c\u7535\u8111',2); INSERT INTO product VALUES (5,'\u4e2d\u534e\u9999\u70df',3); INSERT INTO product VALUES (6,'\u7389\u6eaa\u9999\u70df',3); INSERT INTO product VALUES (7,'\u8ba1\u751f\u7528\u54c1',NULL); -- \u4e2d\u95f4\u8868 CREATE TABLE us_pro( upid INT PRIMARY KEY AUTO_INCREMENT, -- \u4e2d\u95f4\u8868id uid INT, -- \u5916\u952e\u5b57\u6bb5\u3002\u9700\u8981\u548c\u7528\u6237\u8868\u7684\u4e3b\u952e\u4ea7\u751f\u5173\u8054 pid INT, -- \u5916\u952e\u5b57\u6bb5\u3002\u9700\u8981\u548c\u5546\u54c1\u8868\u7684\u4e3b\u952e\u4ea7\u751f\u5173\u8054 CONSTRAINT up_fk1 FOREIGN KEY (uid) REFERENCES USER(id), CONSTRAINT up_fk2 FOREIGN KEY (pid) REFERENCES product(id) ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO us_pro VALUES (NULL,1,1); INSERT INTO us_pro VALUES (NULL,1,2); INSERT INTO us_pro VALUES (NULL,1,3); INSERT INTO us_pro VALUES (NULL,1,4); INSERT INTO us_pro VALUES (NULL,1,5); INSERT INTO us_pro VALUES (NULL,1,6); INSERT INTO us_pro VALUES (NULL,1,7); INSERT INTO us_pro VALUES (NULL,2,1); INSERT INTO us_pro VALUES (NULL,2,2); INSERT INTO us_pro VALUES (NULL,2,3); INSERT INTO us_pro VALUES (NULL,2,4); INSERT INTO us_pro VALUES (NULL,2,5); INSERT INTO us_pro VALUES (NULL,2,6); INSERT INTO us_pro VALUES (NULL,2,7); INSERT INTO us_pro VALUES (NULL,3,1); INSERT INTO us_pro VALUES (NULL,3,2); INSERT INTO us_pro VALUES (NULL,3,3); INSERT INTO us_pro VALUES (NULL,3,4); INSERT INTO us_pro VALUES (NULL,3,5); INSERT INTO us_pro VALUES (NULL,3,6); INSERT INTO us_pro VALUES (NULL,3,7); INSERT INTO us_pro VALUES (NULL,4,1); INSERT INTO us_pro VALUES (NULL,4,2); INSERT INTO us_pro VALUES (NULL,4,3); INSERT INTO us_pro VALUES (NULL,4,4); INSERT INTO us_pro VALUES (NULL,4,5); INSERT INTO us_pro VALUES (NULL,4,6); INSERT INTO us_pro VALUES (NULL,4,7);","title":"\u591a\u8868\u67e5\u8be2\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_51","text":"","title":"\u5185\u8fde\u63a5\u67e5\u8be2"},{"location":"MySQL/#_52","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 [INNER] JOIN \u8868\u540d2 ON \u5173\u8054\u6761\u4ef6; */","title":"\u663e\u793a\u5185\u8fde\u63a5"},{"location":"MySQL/#_53","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1,\u8868\u540d2 WHERE \u5173\u8054\u6761\u4ef6; */","title":"\u9690\u5f0f\u5185\u8fde\u63a5"},{"location":"MySQL/#_54","text":"","title":"\u5916\u8fde\u63a5\u67e5\u8be2"},{"location":"MySQL/#_55","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 LEFT [OUTER] JOIN \u8868\u540d2 ON \u6761\u4ef6; */","title":"\u5de6\u5916\u8fde\u63a5"},{"location":"MySQL/#_56","text":"/* \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d1 RIGHT [OUTER] JOIN \u8868\u540d2 ON \u6761\u4ef6; */","title":"\u53f3\u5916\u8fde\u63a5"},{"location":"MySQL/#_57","text":"/* \u7ed3\u679c\u662f\u5355\u884c\u5355\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d WHERE \u5217\u540d=(SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]); */ -- \u67e5\u8be2\u5e74\u9f84\u6700\u9ad8\u7684\u7528\u6237\u59d3\u540d SELECT MAX(age) FROM USER; SELECT NAME,age FROM USER WHERE age=(SELECT MAX(age) FROM USER); /* \u7ed3\u679c\u662f\u591a\u884c\u5355\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d WHERE \u5217\u540d [NOT] IN (SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]); */ -- \u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u7684\u8ba2\u5355\u4fe1\u606f SELECT * FROM orderlist WHERE uid IN (1,2); SELECT id FROM USER WHERE NAME IN ('\u5f20\u4e09','\u674e\u56db'); SELECT * FROM orderlist WHERE uid IN (SELECT id FROM USER WHERE NAME IN ('\u5f20\u4e09','\u674e\u56db')); /* \u7ed3\u679c\u662f\u591a\u884c\u591a\u5217\u7684 \u6807\u51c6\u8bed\u6cd5\uff1a SELECT \u5217\u540d FROM \u8868\u540d [\u522b\u540d],(SELECT \u5217\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]) [\u522b\u540d] [WHERE \u6761\u4ef6]; */ -- \u67e5\u8be2\u8ba2\u5355\u8868\u4e2did\u5927\u4e8e4\u7684\u8ba2\u5355\u4fe1\u606f\u548c\u6240\u5c5e\u7528\u6237\u4fe1\u606f SELECT * FROM orderlist WHERE id > 4; SELECT u.name, o.number FROM USER u, (SELECT * FROM orderlist WHERE id > 4) o WHERE o.uid=u.id;","title":"\u5b50\u67e5\u8be2"},{"location":"MySQL/#_58","text":"-- \u521b\u5efa\u5458\u5de5\u8868 CREATE TABLE employee( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5458\u5de5\u7f16\u53f7 NAME VARCHAR(20), -- \u5458\u5de5\u59d3\u540d mgr INT, -- \u4e0a\u7ea7\u7f16\u53f7 salary DOUBLE -- \u5458\u5de5\u5de5\u8d44 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO employee VALUES (1001,'\u5b59\u609f\u7a7a',1005,9000.00), (1002,'\u732a\u516b\u6212',1005,8000.00), (1003,'\u6c99\u548c\u5c1a',1005,8500.00), (1004,'\u5c0f\u767d\u9f99',1005,7900.00), (1005,'\u5510\u50e7',NULL,15000.00), (1006,'\u6b66\u677e',1009,7600.00), (1007,'\u674e\u9035',1009,7400.00), (1008,'\u6797\u51b2',1009,8100.00), (1009,'\u5b8b\u6c5f',NULL,16000.00); -- \u67e5\u8be2\u6240\u6709\u5458\u5de5\u7684\u59d3\u540d\u53ca\u5176\u76f4\u63a5\u4e0a\u7ea7\u7684\u59d3\u540d\uff0c\u6ca1\u6709\u4e0a\u7ea7\u7684\u5458\u5de5\u4e5f\u9700\u8981\u67e5\u8be2 /* \u5206\u6790 \u5458\u5de5\u4fe1\u606f employee\u8868 \u6761\u4ef6\uff1aemployee.mgr = employee.id \u67e5\u8be2\u5de6\u8868\u7684\u5168\u90e8\u6570\u636e\uff0c\u548c\u5de6\u53f3\u4e24\u5f20\u8868\u6709\u4ea4\u96c6\u90e8\u5206\u6570\u636e\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT e1.id, e1.name, e1.mgr, e2.id, e2.name FROM employee e1 LEFT OUTER JOIN employee e2 ON e1.mgr = e2.id;","title":"\u81ea\u5173\u8054\u67e5\u8be2"},{"location":"MySQL/#_59","text":"-- 1.\u67e5\u8be2\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid; -- 2.\u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\u3002\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid \u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT u.id, u.name, u.age, o.number FROM USER u LEFT OUTER JOIN orderlist o ON u.id=o.uid; -- 3.\u67e5\u8be2\u6240\u6709\u7684\u8ba2\u5355\u3002\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid \u67e5\u8be2\u6240\u6709\u7684\u8ba2\u5355\uff0c\u53f3\u5916\u8fde\u63a5 */ SELECT u.id, u.name, u.age, o.number FROM USER u RIGHT OUTER JOIN orderlist o ON u.id=o.uid; -- 4.\u67e5\u8be2\u7528\u6237\u5e74\u9f84\u5927\u4e8e23\u5c81\u7684\u4fe1\u606f\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid AND user.age > 23 */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid AND u.age > 23; -- 5.\u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u7528\u6237\u7684\u4fe1\u606f\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u8ba2\u5355\u7f16\u53f7 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u8ba2\u5355\u7f16\u53f7 orderlist\u8868 \u6761\u4ef6\uff1auser.id=orderlist.uid AND user.name IN ('\u5f20\u4e09','\u674e\u56db') */ SELECT u.id, u.name, u.age, o.number FROM USER u, orderlist o WHERE u.id=o.uid AND u.name IN ('\u5f20\u4e09','\u674e\u56db'); -- 6.\u67e5\u8be2\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid */ SELECT c.id, c.name, p.name FROM category c, product p WHERE c.id=p.cid; -- 7.\u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u5206\u7c7b\u3002\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid \u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u5206\u7c7b\uff0c\u5de6\u5916\u8fde\u63a5 */ SELECT c.id, c.name, p.name FROM category c LEFT OUTER JOIN product p ON c.id=p.cid; -- 8.\u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u4fe1\u606f\u3002\u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0\u3002\u5206\u7c7b\u4e0b\u7684\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u5546\u54c1\u5206\u7c7b\u7684\u7f16\u53f7\u3001\u5206\u7c7b\u540d\u79f0 category\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u6761\u4ef6\uff1acategory.id=product.cid \u67e5\u8be2\u6240\u6709\u7684\u5546\u54c1\u4fe1\u606f\uff0c\u53f3\u5916\u8fde\u63a5 */ SELECT c.id, c.name, p.name FROM category c RIGHT OUTER JOIN product p ON c.id=p.cid; -- 9.\u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\u548c\u8be5\u7528\u6237\u80fd\u67e5\u770b\u7684\u6240\u6709\u7684\u5546\u54c1\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u4e2d\u95f4\u8868 us_pro \u6761\u4ef6\uff1aus_pro.uid=user.id AND us_pro.pid=product.id */ SELECT u.id, u.name, u.age, p.name FROM USER u, product p, us_pro up WHERE up.uid=u.id AND up.pid=p.id; -- 10.\u67e5\u8be2\u5f20\u4e09\u548c\u674e\u56db\u8fd9\u4e24\u4e2a\u7528\u6237\u53ef\u4ee5\u770b\u5230\u7684\u5546\u54c1\u3002\u663e\u793a\u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u3002\u5546\u54c1\u540d\u79f0 /* \u5206\u6790 \u7528\u6237\u7684\u7f16\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84 user\u8868 \u5546\u54c1\u540d\u79f0 product\u8868 \u4e2d\u95f4\u8868 us_pro \u6761\u4ef6\uff1aus_pro.uid=user.id AND us_pro.pid=product.id AND user.name IN ('\u5f20\u4e09','\u674e\u56db') */ SELECT u.id, u.name, u.age, p.name FROM USER u, product p, us_pro up WHERE up.uid=u.id AND up.pid=p.id AND u.name IN ('\u5f20\u4e09','\u674e\u56db');","title":"\u591a\u8868\u67e5\u8be2\u7ec3\u4e60"},{"location":"MySQL/#03_1","text":"","title":"03\u89c6\u56fe"},{"location":"MySQL/#_","text":"-- \u521b\u5efadb5\u6570\u636e\u5e93 CREATE DATABASE db5; -- \u4f7f\u7528db5\u6570\u636e\u5e93 USE db5; -- \u521b\u5efacountry\u8868 CREATE TABLE country( id INT PRIMARY KEY AUTO_INCREMENT, -- \u56fd\u5bb6id NAME VARCHAR(30) -- \u56fd\u5bb6\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO country VALUES (NULL,'\u4e2d\u56fd'),(NULL,'\u7f8e\u56fd'),(NULL,'\u4fc4\u7f57\u65af'); -- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id NAME VARCHAR(30), -- \u57ce\u5e02\u540d\u79f0 cid INT, -- \u5916\u952e\u5217\u3002\u5173\u8054country\u8868\u7684\u4e3b\u952e\u5217id CONSTRAINT cc_fk1 FOREIGN KEY (cid) REFERENCES country(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u7ebd\u7ea6',2),(NULL,'\u83ab\u65af\u79d1',3);","title":"\u89c6\u56fe_\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_60","text":"/* \u6807\u51c6\u8bed\u6cd5 CREATE VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */ example -- \u521b\u5efacity_country\u89c6\u56fe\uff0c\u4fdd\u5b58\u57ce\u5e02\u548c\u56fd\u5bb6\u7684\u4fe1\u606f(\u4f7f\u7528\u6307\u5b9a\u5217\u540d) CREATE VIEW city_country (city_id,city_name,country_name) AS SELECT c1.id, c1.name, c2.name FROM city c1, country c2 WHERE c1.cid=c2.id;","title":"\u521b\u5efa\u89c6\u56fe"},{"location":"MySQL/#_61","text":"/* \u6807\u51c6\u8bed\u6cd5 SELECT * FROM \u89c6\u56fe\u540d\u79f0; */ example -- \u67e5\u8be2\u89c6\u56fe SELECT * FROM city_country;","title":"\u67e5\u8be2\u89c6\u56fe"},{"location":"MySQL/#day03","text":"","title":"day03"},{"location":"MySQL/#01_2","text":"","title":"01\u89c6\u56fe"},{"location":"MySQL/#_62","text":"-- \u521b\u5efadb7\u6570\u636e\u5e93 CREATE DATABASE db7; -- \u4f7f\u7528db7\u6570\u636e\u5e93 USE db7; -- \u521b\u5efacountry\u8868 CREATE TABLE country( id INT PRIMARY KEY AUTO_INCREMENT, -- \u56fd\u5bb6id country_name VARCHAR(30) -- \u56fd\u5bb6\u540d\u79f0 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO country VALUES (NULL,'\u4e2d\u56fd'),(NULL,'\u7f8e\u56fd'),(NULL,'\u4fc4\u7f57\u65af'); -- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id city_name VARCHAR(30), -- \u57ce\u5e02\u540d\u79f0 cid INT, -- \u5916\u952e\u5217\u3002\u5173\u8054country\u8868\u7684\u4e3b\u952e\u5217id CONSTRAINT cc_fk1 FOREIGN KEY (cid) REFERENCES country(id) -- \u6dfb\u52a0\u5916\u952e\u7ea6\u675f ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u7ebd\u7ea6',2),(NULL,'\u83ab\u65af\u79d1',3);","title":"\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_63","text":"/* \u521b\u5efa\u89c6\u56fe \u6807\u51c6\u8bed\u6cd5 CREATE VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */","title":"\u521b\u5efa\u89c6\u56fe"},{"location":"MySQL/#_64","text":"","title":"\u67e5\u8be2\u89c6\u56fe"},{"location":"MySQL/#_65","text":"/* \u6807\u51c6\u8bed\u6cd5 SELECT * FROM \u89c6\u56fe\u540d\u79f0; */","title":"\u67e5\u8be2\u89c6\u56fe"},{"location":"MySQL/#_66","text":"/* \u6807\u51c6\u8bed\u6cd5 SHOW CREATE VIEW \u89c6\u56fe\u540d\u79f0; */","title":"\u67e5\u8be2\u521b\u5efa\u89c6\u56fe\u7684\u8bed\u53e5"},{"location":"MySQL/#_67","text":"","title":"\u4fee\u6539\u89c6\u56fe"},{"location":"MySQL/#_68","text":"/* \u6807\u51c6\u8bed\u6cd5 UPDATE \u89c6\u56fe\u540d\u79f0 SET \u5217\u540d=\u503c WHERE \u6761\u4ef6; */","title":"\u4fee\u6539\u89c6\u56fe\u8868\u6570\u636e"},{"location":"MySQL/#_69","text":"/* \u4fee\u6539\u89c6\u56fe\u8868\u7ed3\u6784 \u6807\u51c6\u8bed\u6cd5 ALTER VIEW \u89c6\u56fe\u540d\u79f0 [(\u5217\u540d\u5217\u8868)] AS \u67e5\u8be2\u8bed\u53e5; */","title":"\u4fee\u6539\u89c6\u56fe\u8868\u7ed3\u6784"},{"location":"MySQL/#_70","text":"/* \u5220\u9664\u89c6\u56fe \u6807\u51c6\u8bed\u6cd5 DROP VIEW [IF EXISTS] \u89c6\u56fe\u540d\u79f0; */","title":"\u5220\u9664\u89c6\u56fe"},{"location":"MySQL/#02_2","text":"","title":"02\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570"},{"location":"MySQL/#_71","text":"-- \u521b\u5efadb8\u6570\u636e\u5e93 CREATE DATABASE db8; -- \u4f7f\u7528db8\u6570\u636e\u5e93 USE db8; -- \u521b\u5efa\u5b66\u751f\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, -- \u5b66\u751fid NAME VARCHAR(20), -- \u5b66\u751f\u59d3\u540d age INT, -- \u5b66\u751f\u5e74\u9f84 gender VARCHAR(5), -- \u5b66\u751f\u6027\u522b score INT -- \u5b66\u751f\u6210\u7ee9 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,'\u7537',95),(NULL,'\u674e\u56db',24,'\u7537',98), (NULL,'\u738b\u4e94',25,'\u5973',100),(NULL,'\u8d75\u516d',26,'\u5973',90); -- \u6309\u7167\u6027\u522b\u8fdb\u884c\u5206\u7ec4\uff0c\u67e5\u8be2\u6bcf\u7ec4\u5b66\u751f\u7684\u603b\u6210\u7ee9\u3002\u6309\u7167\u603b\u6210\u7ee9\u7684\u5347\u5e8f\u6392\u5e8f SELECT gender,SUM(score) getSum FROM student GROUP BY gender ORDER BY getSum ASC;","title":"\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_72","text":"/* -- \u4fee\u6539\u5206\u9694\u7b26\u4e3a $ DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( \u53c2\u6570 ...) BEGIN sql\u8bed\u53e5 ; END $ -- \u4fee\u6539\u5206\u9694\u7b26\u4e3a\u5206\u53f7 DELIMITER ; */ -- \u521b\u5efastu_group()\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5c01\u88c5 \u5206\u7ec4\u67e5\u8be2\u603b\u6210\u7ee9\uff0c\u5e76\u6309\u7167\u603b\u6210\u7ee9\u5347\u5e8f\u6392\u5e8f\u7684\u529f\u80fd DELIMITER $ CREATE PROCEDURE stu_group () BEGIN SELECT gender , SUM ( score ) getSum FROM student GROUP BY gender ORDER BY getSum ASC ; END $ DELIMITER ;","title":"\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b"},{"location":"MySQL/#_73","text":"/* \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 CALL \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0(\u5b9e\u9645\u53c2\u6570); */ -- \u8c03\u7528stu_group\u5b58\u50a8\u8fc7\u7a0b CALL stu_group();","title":"\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b"},{"location":"MySQL/#_74","text":"/* \u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 SELECT name FROM mysql.proc WHERE db='\u6570\u636e\u5e93\u540d\u79f0'; */ -- \u67e5\u770bdb8\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b SELECT NAME FROM mysql.proc WHERE db='db8';","title":"\u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b"},{"location":"MySQL/#_75","text":"/* \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f \u6807\u51c6\u8bed\u6cd5 SHOW PROCEDURE STATUS ; */ -- \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f SHOW PROCEDURE STATUS ;","title":"\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u72b6\u6001\u4fe1\u606f"},{"location":"MySQL/#_76","text":"/* \u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 SHOW CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ; */ -- \u67e5\u8be2stu_group\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5 SHOW CREATE PROCEDURE stu_group ;","title":"\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u8bed\u53e5"},{"location":"MySQL/#_77","text":"/* \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b \u6807\u51c6\u8bed\u6cd5 DROP PROCEDURE [IF EXISTS] \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0; */ -- \u5220\u9664stu_group\u5b58\u50a8\u8fc7\u7a0b DROP PROCEDURE IF EXISTS stu_group ;","title":"\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b"},{"location":"MySQL/#-","text":"","title":"\u5b58\u50a8\u8fc7\u7a0b-\u53d8\u91cf"},{"location":"MySQL/#_78","text":"/* \u5b9a\u4e49\u53d8\u91cf \u6807\u51c6\u8bed\u6cd5 DECLARE \u53d8\u91cf\u540d \u6570\u636e\u7c7b\u578b [DEFAULT \u9ed8\u8ba4\u503c]; */ -- \u5b9a\u4e49\u4e00\u4e2aint\u7c7b\u578b\u53d8\u91cf\uff0c\u5e76\u8d4b\u9ed8\u8ba4\u503c\u4e3a10 DELIMITER $ CREATE PROCEDURE pro_test1 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE num INT DEFAULT 10 ; -- \u67e5\u8be2\u53d8\u91cf SELECT num ; END $ DELIMITER ; -- \u8c03\u7528pro_test1\u5b58\u50a8\u8fc7\u7a0b CALL pro_test1();","title":"\u5b9a\u4e49\u53d8\u91cf"},{"location":"MySQL/#-_1","text":"/* \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e00 \u6807\u51c6\u8bed\u6cd5 SET \u53d8\u91cf\u540d = \u53d8\u91cf\u503c; */ -- \u5b9a\u4e49\u4e00\u4e2avarchar\u7c7b\u578b\u53d8\u91cf\u5e76\u8d4b\u503c DELIMITER $ CREATE PROCEDURE pro_test2 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE NAME VARCHAR ( 10 ); -- \u4e3a\u53d8\u91cf\u8d4b\u503c SET NAME = '\u5b58\u50a8\u8fc7\u7a0b' ; -- \u67e5\u8be2\u53d8\u91cf SELECT NAME ; END $ DELIMITER ; -- \u8c03\u7528pro_test2\u5b58\u50a8\u8fc7\u7a0b CALL pro_test2(); \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e8c /* \u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e8c \u6807\u51c6\u8bed\u6cd5 SELECT \u5217\u540d INTO \u53d8\u91cf\u540d FROM \u8868\u540d [WHERE \u6761\u4ef6]; */ -- \u5b9a\u4e49\u4e24\u4e2aint\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u7537\u5973\u540c\u5b66\u7684\u603b\u5206\u6570 DELIMITER $ CREATE PROCEDURE pro_test3 () BEGIN -- \u5b9a\u4e49\u53d8\u91cf DECLARE men , women INT ; -- \u67e5\u8be2\u7537\u540c\u5b66\u7684\u603b\u5206\u6570\uff0c\u4e3a men\u53d8\u91cf\u8d4b\u503c SELECT SUM ( score ) INTO men FROM student WHERE gender = '\u7537' ; -- \u67e5\u8be2\u5973\u540c\u5b66\u7684\u603b\u5206\u6570\uff0c\u4e3a women\u53d8\u91cf\u8d4b\u503c SELECT SUM ( score ) INTO women FROM student WHERE gender = '\u5973' ; -- \u67e5\u8be2\u53d8\u91cf SELECT men , women ; END $ DELIMITER ; -- \u8c03\u7528pro_test3\u5b58\u50a8\u8fc7\u7a0b CALL pro_test3();","title":"\u53d8\u91cf\u8d4b\u503c-\u65b9\u5f0f\u4e00"},{"location":"MySQL/#-if","text":"/* \u5b58\u50a8\u8fc7\u7a0b - if\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 IF \u5224\u65ad\u6761\u4ef6 1 THEN \u6267\u884c\u7684 sql\u8bed\u53e51 ; [ ELSEIF \u5224\u65ad\u6761\u4ef6 2 THEN \u6267\u884c\u7684 sql\u8bed\u53e52 ;] ... [ ELSE \u6267\u884c\u7684 sql\u8bed\u53e5n ;] END IF ; */ / \u5b9a\u4e49\u4e00\u4e2aint\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u73ed\u7ea7\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test4 () BEGIN -- \u5b9a\u4e49\u4fdd\u5b58\u603b\u6210\u7ee9\u7684\u53d8\u91cf DECLARE total INT ; -- \u5b9a\u4e49\u4fdd\u5b58\u5206\u6570\u63cf\u8ff0\u7684\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u4e3a total\u8d4b\u503c SELECT SUM ( score ) INTO total FROM student ; -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test4\u5b58\u50a8\u8fc7\u7a0b CALL pro_test4();","title":"\u5b58\u50a8\u8fc7\u7a0b-if\u8bed\u53e5"},{"location":"MySQL/#__1","text":"/* \u8f93\u5165\u53c2\u6570 DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( IN \u53c2\u6570\u540d \u6570\u636e\u7c7b\u578b ) BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; END $ DELIMITER ; */ / \u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test5 ( IN total INT ) BEGIN -- \u5b9a\u4e49\u5206\u6570\u63cf\u8ff0\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test5\u5b58\u50a8\u8fc7\u7a0b CALL pro_test5(310); CALL pro_test5((SELECT SUM(score) FROM student));","title":"\u5b58\u50a8\u8fc7\u7a0b_\u8f93\u5165\u53c2\u6570"},{"location":"MySQL/#__2","text":"/* \u8f93\u51fa\u53c2\u6570 DELIMITER $ -- \u6807\u51c6\u8bed\u6cd5 CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0 ( OUT \u53c2\u6570\u540d \u6570\u636e\u7c7b\u578b ) BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; END $ DELIMITER ; */ /\u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u8f93\u51fa\u5206\u6570\u63cf\u8ff0\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9\u7684\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c */ DELIMITER $ CREATE PROCEDURE pro_test6 ( IN total INT , OUT description VARCHAR ( 10 )) BEGIN -- \u5224\u65ad\u603b\u6210\u7ee9 IF total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; ELSEIF total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END IF ; END $ DELIMITER ; -- \u8c03\u7528pro_test6\u5b58\u50a8\u8fc7\u7a0b CALL pro_test6 ( 390 , @description ); -- \u67e5\u8be2\u603b\u6210\u7ee9\u63cf\u8ff0\u4fe1\u606f\u53d8\u91cf SELECT @description ;","title":"\u5b58\u50a8\u8fc7\u7a0b_\u8f93\u51fa\u53c2\u6570"},{"location":"MySQL/#_case","text":"/* case\u8bed\u53e5 \u6807\u51c6\u8bed\u6cd5 CASE WHEN \u5224\u65ad\u6761\u4ef6 1 THEN \u6267\u884c sql\u8bed\u53e51 ; [ WHEN \u5224\u65ad\u6761\u4ef6 2 THEN \u6267\u884c sql\u8bed\u53e52 ;] ... [ ELSE \u6267\u884c sql\u8bed\u53e5n ;] END CASE ; */ / \u8f93\u5165\u603b\u6210\u7ee9\u53d8\u91cf\uff0c\u4ee3\u8868\u5b66\u751f\u603b\u6210\u7ee9 \u5b9a\u4e49\u4e00\u4e2avarchar\u53d8\u91cf\uff0c\u7528\u4e8e\u5b58\u50a8\u5206\u6570\u63cf\u8ff0 \u6839\u636e\u603b\u6210\u7ee9\u5224\u65ad\uff1a 380\u5206\u53ca\u4ee5\u4e0a \u5b66\u4e60\u4f18\u79c0 320 ~ 380 \u5b66\u4e60\u4e0d\u9519 320\u4ee5\u4e0b \u5b66\u4e60\u4e00\u822c / DELIMITER $ CREATE PROCEDURE pro_test7 ( IN total INT ) BEGIN -- \u5b9a\u4e49\u603b\u6210\u7ee9\u63cf\u8ff0\u4fe1\u606f\u53d8\u91cf DECLARE description VARCHAR ( 10 ); -- \u5224\u65ad\u603b\u6210\u7ee9 CASE WHEN total >= 380 THEN SET description = '\u5b66\u4e60\u4f18\u79c0' ; WHEN total >= 320 AND total < 380 THEN SET description = '\u5b66\u4e60\u4e0d\u9519' ; ELSE SET description = '\u5b66\u4e60\u4e00\u822c' ; END CASE ; -- \u67e5\u8be2\u603b\u6210\u7ee9\u548c\u63cf\u8ff0\u4fe1\u606f SELECT total , description ; END $ DELIMITER ; -- \u8c03\u7528pro_test7\u5b58\u50a8\u8fc7\u7a0b CALL pro_test7(310);","title":"\u5b58\u50a8\u8fc7\u7a0b_case\u8bed\u53e5"},{"location":"MySQL/#_while","text":"/* while\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5 ; WHILE \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 DO \u5faa\u73af\u4f53\u8bed\u53e5 ; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5 ; END WHILE ; */ -- \u8ba1\u7b971~100\u4e4b\u95f4\u7684\u5076\u6570\u548c DELIMITER $ CREATE PROCEDURE pro_test8 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- while\u5faa\u73af WHILE num <= 100 DO -- \u5224\u65ad num\u662f\u5426\u662f\u5076\u6570 IF num % 2 = 0 THEN -- \u8ba9 num\u548cresult\u8fdb\u884c\u7d2f\u52a0 SET result = result + num ; END IF ; -- \u8ba9 num\u8fdb\u884c\u81ea\u589e SET num = num + 1 ; END WHILE ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test8\u5b58\u50a8\u8fc7\u7a0b CALL pro_test8();","title":"\u5b58\u50a8\u8fc7\u7a0b_while\u5faa\u73af"},{"location":"MySQL/#_repeat","text":"/* repeat\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5 ; REPEAT \u5faa\u73af\u4f53\u8bed\u53e5 ; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5 ; UNTIL \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 END REPEAT ; */ -- \u8ba1\u7b971~10\u4e4b\u95f4\u7684\u548c DELIMITER $ CREATE PROCEDURE pro_test9 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- repeat\u5faa\u73af REPEAT -- \u7d2f\u52a0 SET result = result + num ; -- \u8ba9 num + 1 SET num = num + 1 ; -- \u505c\u6b62\u5faa\u73af UNTIL num > 10 END REPEAT ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test9\u5b58\u50a8\u8fc7\u7a0b CALL pro_test9();","title":"\u5b58\u50a8\u8fc7\u7a0b_repeat\u5faa\u73af"},{"location":"MySQL/#_loop","text":"/* loop\u5faa\u73af \u6807\u51c6\u8bed\u6cd5 \u521d\u59cb\u5316\u8bed\u53e5; [ \u5faa\u73af\u540d\u79f0 : ] LOOP \u6761\u4ef6\u5224\u65ad\u8bed\u53e5 [ LEAVE \u5faa\u73af\u540d\u79f0 ; ] \u5faa\u73af\u4f53\u8bed\u53e5; \u6761\u4ef6\u63a7\u5236\u8bed\u53e5; END LOOP \u5faa\u73af\u540d\u79f0; */ -- \u8ba1\u7b971~10\u4e4b\u95f4\u7684\u548c DELIMITER $ CREATE PROCEDURE pro_test10 () BEGIN -- \u5b9a\u4e49\u6c42\u548c\u53d8\u91cf DECLARE result INT DEFAULT 0 ; -- \u5b9a\u4e49\u521d\u59cb\u5316\u53d8\u91cf DECLARE num INT DEFAULT 1 ; -- loop\u5faa\u73af l : LOOP -- \u6761\u4ef6\u5224\u65ad \uff0c \u505c\u6b62\u5faa\u73af IF num > 10 THEN LEAVE l ; END IF ; -- \u7d2f\u52a0 SET result = result + num ; -- \u8ba9num + 1 SET num = num + 1 ; END LOOP l ; -- \u67e5\u8be2\u6c42\u548c\u7ed3\u679c SELECT result ; END $ DELIMITER ; -- \u8c03\u7528pro_test10\u5b58\u50a8\u8fc7\u7a0b CALL pro_test10();","title":"\u5b58\u50a8\u8fc7\u7a0b_loop\u5faa\u73af"},{"location":"MySQL/#__3","text":"/* \u6e38\u6807 \u6807\u51c6\u8bed\u6cd5 1.\u521b\u5efa\u6e38\u6807\uff1aDECLARE \u6e38\u6807\u540d\u79f0 CURSOR FOR \u67e5\u8be2sql\u8bed\u53e5; 2.\u6253\u5f00\u6e38\u6807\uff1aOPEN \u6e38\u6807\u540d\u79f0; 3.\u4f7f\u7528\u6e38\u6807\uff1aFETCH \u6e38\u6807\u540d\u79f0 INTO \u53d8\u91cf\u540d1,\u53d8\u91cf\u540d2,...; 4.\u5173\u95ed\u6e38\u6807\uff1aCLOSE \u6e38\u6807\u540d\u79f0; */ -- \u521b\u5efastu_score\u8868 CREATE TABLE stu_score( id INT PRIMARY KEY AUTO_INCREMENT, score INT ); -- \u5c06student\u8868\u4e2d\u6240\u6709\u7684\u6210\u7ee9\u4fdd\u5b58\u5230stu_score\u8868\u4e2d DELIMITER $ CREATE PROCEDURE pro_test11 () BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6210\u7ee9\u7684\u53d8\u91cf DECLARE s_score INT ; -- \u521b\u5efa\u6e38\u6807 DECLARE stu_result CURSOR FOR SELECT score FROM student ; -- \u5f00\u542f\u6e38\u6807 OPEN stu_result ; -- \u4f7f\u7528\u6e38\u6807 -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 1 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 2 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 3 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u7b2c 4 \u884c\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u5173\u95ed\u6e38\u6807 CLOSE stu_result ; END $ DELIMITER ; -- \u8c03\u7528pro_test11\u5b58\u50a8\u8fc7\u7a0b CALL pro_test11(); -- \u67e5\u8be2stu_score\u6570\u636e\u8868 SELECT * FROM stu_score;","title":"\u5b58\u50a8\u8fc7\u7a0b_\u6e38\u6807"},{"location":"MySQL/#__4","text":"/* \u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u4f1a\u81ea\u52a8\u7684\u89e6\u53d1\u4e00\u4e2a\u4e8b\u4ef6\u3002\u5c31\u4ee3\u8868\u6e38\u6807\u5df2\u7ecf\u7ed3\u675f\u4e86\uff01 \u52a0\u6807\u8bb0\u7684\u601d\u60f3\uff1a 1.\u5b9a\u4e49\u4e00\u4e2a\u6807\u8bb0\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff08\u610f\u5473\u7740\u6709\u6570\u636e\uff09 2.\u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u5c06\u6807\u8bb0\u53d8\u91cf\u7684\u503c\u4fee\u6539\u4e3a1\uff08\u610f\u5473\u7740\u6ca1\u6709\u6570\u636e\u4e86\uff09 */ DELIMITER $ CREATE PROCEDURE pro_test12 () BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6210\u7ee9\u7684\u53d8\u91cf DECLARE s_score INT ; -- \u5b9a\u4e49\u4e00\u4e2a\u6807\u8bb0\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \uff08\u610f\u5473\u7740\u6709\u6570\u636e\uff09 DECLARE flag INT DEFAULT 0 ; -- \u521b\u5efa\u6e38\u6807 DECLARE stu_result CURSOR FOR SELECT score FROM student ; -- \u5f53\u6e38\u6807\u7ed3\u675f\u540e\uff0c\u5c06\u6807\u8bb0\u53d8\u91cf\u7684\u503c\u4fee\u6539\u4e3a 1 \uff08\u610f\u5473\u7740\u6ca1\u6709\u6570\u636e\u4e86\uff09 DECLARE EXIT HANDLER FOR NOT FOUND SET flag = 1 ; -- \u5f00\u542f\u6e38\u6807 OPEN stu_result ; -- \u5faa\u73af\u4f7f\u7528\u6e38\u6807 REPEAT -- \u904d\u5386\u7ed3\u679c\uff0c\u62ff\u5230\u6570\u636e FETCH stu_result INTO s_score ; -- \u5c06\u6570\u636e\u4fdd\u5b58\u5230 stu_score\u8868\u4e2d INSERT INTO stu_score VALUES ( NULL , s_score ); -- \u5f53 flag\u7684\u503c\u662f1\u7684\u65f6\u5019 \uff0c\u5c31\u505c\u6b62\u5faa\u73af UNTIL flag = 1 END REPEAT ; -- \u5173\u95ed\u6e38\u6807 CLOSE stu_result ; END $ DELIMITER ; -- \u8c03\u7528pro_test12\u5b58\u50a8\u8fc7\u7a0b CALL pro_test12(); -- \u67e5\u8be2stu_score\u8868 SELECT * FROM stu_score;","title":"\u5b58\u50a8\u8fc7\u7a0b_\u6e38\u6807\u4f18\u5316"},{"location":"MySQL/#_79","text":"","title":"\u5b58\u50a8\u51fd\u6570"},{"location":"MySQL/#_80","text":"/* \u521b\u5efa\u5b58\u50a8\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 CREATE FUNCTION \u51fd\u6570\u540d\u79f0 ([ \u53c2\u6570 \u6570\u636e\u7c7b\u578b ]) RETURNS \u8fd4\u56de\u503c\u7c7b\u578b BEGIN \u6267\u884c\u7684 sql\u8bed\u53e5 ; RETURN \u7ed3\u679c ; END $ */ -- \u5b9a\u4e49\u5b58\u50a8\u51fd\u6570\uff0c\u83b7\u53d6\u5b66\u751f\u8868\u4e2d\u6210\u7ee9\u5927\u4e8e95\u5206\u7684\u5b66\u751f\u6570\u91cf DELIMITER $ CREATE FUNCTION fun_test1 () RETURNS INT BEGIN -- \u5b9a\u4e49\u4e00\u4e2a\u7edf\u8ba1\u53d8\u91cf DECLARE result INT ; -- \u67e5\u8be2\u6210\u7ee9\u5927\u4e8e 95 \u5206\u7684\u6570\u91cf SELECT COUNT ( * ) INTO result FROM student WHERE score > 95 ; -- \u5c06\u7ed3\u679c\u8fd4\u56de RETURN result ; END $ DELIMITER ;","title":"\u521b\u5efa\u5b58\u50a8\u51fd\u6570"},{"location":"MySQL/#_81","text":"/* \u8c03\u7528\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 SELECT \u51fd\u6570\u540d\u79f0(\u5b9e\u9645\u53c2\u6570); */ -- \u8c03\u7528\u51fd\u6570 SELECT fun_test1();","title":"\u8c03\u7528\u51fd\u6570"},{"location":"MySQL/#_82","text":"/* \u5220\u9664\u51fd\u6570 \u6807\u51c6\u8bed\u6cd5 DROP FUNCTION \u51fd\u6570\u540d\u79f0; */ -- \u5220\u9664\u51fd\u6570 DROP FUNCTION fun_test1;","title":"\u5220\u9664\u51fd\u6570"},{"location":"MySQL/#03_2","text":"","title":"03\u89e6\u53d1\u5668"},{"location":"MySQL/#_83","text":"-- \u521b\u5efadb9\u6570\u636e\u5e93 CREATE DATABASE db9; -- \u4f7f\u7528db9\u6570\u636e\u5e93 USE db9; -- \u521b\u5efa\u8d26\u6237\u8868account CREATE TABLE account( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8d26\u6237id NAME VARCHAR(20), -- \u59d3\u540d money DOUBLE -- \u4f59\u989d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO account VALUES (NULL,'\u5f20\u4e09',1000),(NULL,'\u674e\u56db',2000); -- \u521b\u5efa\u65e5\u5fd7\u8868account_log CREATE TABLE account_log( id INT PRIMARY KEY AUTO_INCREMENT, -- \u65e5\u5fd7id operation VARCHAR(20), -- \u64cd\u4f5c\u7c7b\u578b (insert update delete) operation_time DATETIME, -- \u64cd\u4f5c\u65f6\u95f4 operation_id INT, -- \u64cd\u4f5c\u8868\u7684id operation_params VARCHAR(200) -- \u64cd\u4f5c\u53c2\u6570 );","title":"\u89e6\u53d1\u5668\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#insert","text":"/* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaINSERT\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u65b0\u589e\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_insert AFTER INSERT ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'INSERT' , NOW (), new . id , CONCAT ( '\u63d2\u5165\u540e{id=' , new . id , ',name=' , new . name , ',money=' , new . money , '}' )); END $ DELIMITER ; -- \u5411account\u8868\u6765\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55 INSERT INTO account VALUES (NULL,'\u738b\u4e94',3000); -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log;","title":"INSERT\u578b\u89e6\u53d1\u5668"},{"location":"MySQL/#update","text":"/* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaUPDATE\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u4fee\u6539\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_update AFTER UPDATE ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'UPDATE' , NOW (), new . id , CONCAT ( '\u4fee\u6539\u524d{id=' , old . id , ',name=' , old . name , ',money=' , old . money , '}' , '\u4fee\u6539\u540e{id=' , new . id , ',name=' , new . name , ',money=' , new . money , '}' )); END $ DELIMITER ; -- \u4fee\u6539account\u8868\u4e2d\u674e\u56db\u7684\u91d1\u989d\u4e3a2500 UPDATE account SET money=2500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log;","title":"UPDATE\u578b\u89e6\u53d1\u5668"},{"location":"MySQL/#delete","text":"/* \u521b\u5efa\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DELIMITER $ CREATE TRIGGER \u89e6\u53d1\u5668\u540d\u79f0 BEFORE | AFTER INSERT | UPDATE | DELETE ON \u8868\u540d FOR EACH ROW BEGIN \u89e6\u53d1\u5668\u8981\u6267\u884c\u7684\u529f\u80fd ; END $ DELIMITER ; */ -- \u521b\u5efaDELETE\u578b\u89e6\u53d1\u5668\u3002\u7528\u4e8e\u5bf9account\u8868\u5220\u9664\u6570\u636e\u8fdb\u884c\u65e5\u5fd7\u7684\u8bb0\u5f55 DELIMITER $ CREATE TRIGGER account_delete AFTER DELETE ON account FOR EACH ROW BEGIN INSERT INTO account_log VALUES ( NULL , 'DELETE' , NOW (), old . id , CONCAT ( '\u5220\u9664\u524d{id=' , old . id , ',name=' , old . name , ',money=' , old . money , '}' )); END $ DELIMITER ; -- \u5220\u9664account\u8868\u4e2d\u738b\u4e94 DELETE FROM account WHERE NAME='\u738b\u4e94'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u67e5\u8be2account_log\u8868 SELECT * FROM account_log;","title":"DELETE\u578b\u89e6\u53d1\u5668"},{"location":"MySQL/#_84","text":"/* \u67e5\u770b\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 SHOW TRIGGERS; */ -- \u67e5\u770b\u89e6\u53d1\u5668 SHOW TRIGGERS ;","title":"\u67e5\u770b\u89e6\u53d1\u5668"},{"location":"MySQL/#_85","text":"/* \u5220\u9664\u89e6\u53d1\u5668 \u6807\u51c6\u8bed\u6cd5 DROP TRIGGER \u89e6\u53d1\u5668\u540d\u79f0; */ -- \u5220\u9664\u89e6\u53d1\u5668 DROP TRIGGER account_delete;","title":"\u5220\u9664\u89e6\u53d1\u5668"},{"location":"MySQL/#04_1","text":"","title":"04\u4e8b\u52a1"},{"location":"MySQL/#_86","text":"-- \u521b\u5efadb10\u6570\u636e\u5e93 CREATE DATABASE db10; -- \u4f7f\u7528db10\u6570\u636e\u5e93 USE db10; -- \u521b\u5efa\u8d26\u6237\u8868 CREATE TABLE account( id INT PRIMARY KEY AUTO_INCREMENT, -- \u8d26\u6237id NAME VARCHAR(20), -- \u8d26\u6237\u540d\u79f0 money DOUBLE -- \u8d26\u6237\u4f59\u989d ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO account VALUES (NULL,'\u5f20\u4e09',1000),(NULL,'\u674e\u56db',1000);","title":"\u4e8b\u52a1\u7684\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_87","text":"-- \u5f20\u4e09\u7ed9\u674e\u56db\u8f6c\u8d26500\u5143 -- 1.\u5f20\u4e09\u8d26\u6237-500 UPDATE account SET money=money-500 WHERE NAME='\u5f20\u4e09'; \u51fa\u9519\u4e86... -- 2.\u674e\u56db\u8d26\u6237+500 UPDATE account SET money=money+500 WHERE NAME='\u674e\u56db';","title":"\u672a\u7ba1\u7406\u4e8b\u52a1"},{"location":"MySQL/#_88","text":"/* \u5f00\u542f\u4e8b\u52a1\uff1aSTART TRANSACTION; \u56de\u6eda\u4e8b\u52a1\uff1aROLLBACK; \u63d0\u4ea4\u4e8b\u52a1\uff1aCOMMIT; */ -- \u5f20\u4e09\u7ed9\u674e\u56db\u8f6c\u8d26500\u5143 -- 1.\u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- 2.\u6267\u884c\u8f6c\u8d26\u7684\u64cd\u4f5c UPDATE account SET money=money-500 WHERE NAME='\u5f20\u4e09'; \u51fa\u9519\u4e86... UPDATE account SET money=money+500 WHERE NAME='\u674e\u56db'; -- 3.\u7ed3\u675f\u4e8b\u52a1 -- 3.1\u56de\u6eda\u4e8b\u52a1 ROLLBACK; -- 3.2\u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"\u7ba1\u7406\u4e8b\u52a1"},{"location":"MySQL/#_89","text":"/* \u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f \u67e5\u8be2\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff1aSELECT @@AUTOCOMMIT; -- 1\u4ee3\u8868\u81ea\u52a8\u63d0\u4ea4 0\u4ee3\u8868\u624b\u52a8\u63d0\u4ea4 \u4fee\u6539\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff1aSET @@AUTOCOMMIT=\u6570\u5b57; */ -- \u67e5\u8be2\u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f SELECT @@autocommit ; UPDATE account SET money = 1000 WHERE NAME = '\u5f20\u4e09' ; COMMIT ; -- \u4fee\u6539\u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f SET @@autocommit = 0 ;","title":"\u4e8b\u52a1\u7684\u63d0\u4ea4\u65b9\u5f0f"},{"location":"MySQL/#_90","text":"/* \u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b \u67e5\u8be2\u9694\u79bb\u7ea7\u522b\uff1aSELECT @@TX_ISOLATION; \u4fee\u6539\u9694\u79bb\u7ea7\u522b\uff1aSET GLOBAL TRANSACTION ISOLATION LEVEL \u7ea7\u522b\u5b57\u7b26\u4e32; */ -- \u67e5\u8be2\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u4fee\u6539\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;","title":"\u67e5\u8be2\u548c\u4fee\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b"},{"location":"MySQL/#_91","text":"/* \u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u810f\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u5230\u4e86\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e */ -- \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3aread uncommitted SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u8f6c\u8d26 UPDATE account SET money = money-500 WHERE NAME='\u5f20\u4e09'; UPDATE account SET money = money+500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u56de\u6eda ROLLBACK;","title":"\u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31"},{"location":"MySQL/#_92","text":"-- \u67e5\u8be2\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account;","title":"\u810f\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32"},{"location":"MySQL/#_93","text":"/* \u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u5230\u4e86\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e */ -- \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3aread committed SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED; SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u8f6c\u8d26 UPDATE account SET money = money-500 WHERE NAME='\u5f20\u4e09'; UPDATE account SET money = money+500 WHERE NAME='\u674e\u56db'; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31"},{"location":"MySQL/#_94","text":"-- \u67e5\u8be2\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32"},{"location":"MySQL/#_95","text":"/* \u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3 \u5e7b\u8bfb\uff1a \u67e5\u8be2\u67d0\u8bb0\u5f55\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728 \u51c6\u5907\u63d2\u5165\u6b64\u8bb0\u5f55\uff0c\u4f46\u6267\u884c\u63d2\u5165\u65f6\u53d1\u73b0\u6b64\u8bb0\u5f55\u5df2\u5b58\u5728\uff0c\u65e0\u6cd5\u63d2\u5165 \u6216\u67d0\u8bb0\u5f55\u4e0d\u5b58\u5728\u6267\u884c\u5220\u9664\uff0c\u5374\u53d1\u73b0\u5220\u9664\u6210\u529f */ -- \u8bbe\u7f6e\u9694\u79bb\u7ea7\u522b\u4e3arepeatable read SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ; SET GLOBAL TRANSACTION ISOLATION LEVEL SERIALIZABLE; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u6dfb\u52a0\u8bb0\u5f55 INSERT INTO account VALUES (4,'\u8d75\u516d',2000); -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"\u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e31"},{"location":"MySQL/#_96","text":"-- \u67e5\u8be2\u9694\u79bb\u7ea7\u522b SELECT @@tx_isolation ; -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2account\u8868 SELECT * FROM account; -- \u6dfb\u52a0 INSERT INTO account VALUES (3,'\u738b\u4e94',2000);","title":"\u5e7b\u8bfb\u7684\u95ee\u9898\u6f14\u793a\u548c\u89e3\u51b3_\u7a97\u53e32"},{"location":"MySQL/#day04","text":"","title":"day04"},{"location":"MySQL/#01_3","text":"","title":"01\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#_97","text":"/* \u67e5\u8be2\u6570\u636e\u5e93\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW ENGINES; */","title":"\u67e5\u8be2\u6570\u636e\u5e93\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#_98","text":"/* \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u6240\u6709\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0; */","title":"\u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u6240\u6709\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#_99","text":"/* \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u67d0\u4e2a\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 SHOW TABLE STATUS FROM \u6570\u636e\u5e93\u540d\u79f0 WHERE NAME = '\u6570\u636e\u8868\u540d\u79f0'; */","title":"\u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u4e2d\u67d0\u4e2a\u8868\u7684\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#_100","text":"/* \u521b\u5efa\u6570\u636e\u8868\u6307\u5b9a\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 CREATE TABLE \u8868\u540d( \u5217\u540d,\u6570\u636e\u7c7b\u578b, ... )ENGINE = \u5f15\u64ce\u540d\u79f0; */","title":"\u521b\u5efa\u6570\u636e\u8868\u6307\u5b9a\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#_101","text":"/* \u4fee\u6539\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce \u6807\u51c6\u8bed\u6cd5 ALTER TABLE \u8868\u540d ENGINE = \u5f15\u64ce\u540d\u79f0; */ -- \u4fee\u6539engine_test\u8868\u7684\u5f15\u64ce\u4e3aInnoDB ALTER TABLE engine_test ENGINE = INNODB; -- \u67e5\u8be2engine_test\u8868\u7684\u5b58\u50a8\u5f15\u64ce SHOW TABLE STATUS FROM db11 WHERE NAME = ' engine_test ' ;","title":"\u4fee\u6539\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce"},{"location":"MySQL/#02_3","text":"","title":"02\u7d22\u5f15"},{"location":"MySQL/#_102","text":"-- \u521b\u5efadb12\u6570\u636e\u5e93 CREATE DATABASE db12; -- \u4f7f\u7528db12\u6570\u636e\u5e93 USE db12; -- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10), age INT, score INT ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,98),(NULL,'\u674e\u56db',24,95), (NULL,'\u738b\u4e94',25,96),(NULL,'\u8d75\u516d',26,94),(NULL,'\u5468\u4e03',27,99);","title":"\u7d22\u5f15\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#_103","text":"","title":"\u521b\u5efa\u548c\u67e5\u8be2\u7d22\u5f15"},{"location":"MySQL/#_104","text":"/* \u521b\u5efa\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 CREATE [UNIQUE|FULLTEXT] INDEX \u7d22\u5f15\u540d\u79f0 [USING \u7d22\u5f15\u7c7b\u578b] -- \u9ed8\u8ba4\u662fB+TREE ON \u8868\u540d(\u5217\u540d...); */ -- \u4e3astudent\u8868\u4e2d\u7684name\u5217\u521b\u5efa\u4e00\u4e2a\u666e\u901a\u7d22\u5f15 CREATE INDEX idx_name ON student(NAME); -- \u4e3astudent\u8868\u4e2d\u7684age\u5217\u521b\u5efa\u4e00\u4e2a\u552f\u4e00\u7d22\u5f15 CREATE UNIQUE INDEX idx_age ON student(age);","title":"\u521b\u5efa\u7d22\u5f15"},{"location":"MySQL/#_105","text":"/* \u67e5\u8be2\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 SHOW INDEX FROM \u8868\u540d; */ -- \u67e5\u8be2student\u8868\u4e2d\u7684\u7d22\u5f15 SHOW INDEX FROM student ;","title":"\u67e5\u8be2\u7d22\u5f15"},{"location":"MySQL/#alter","text":"/* ALTER\u6dfb\u52a0\u7d22\u5f15 -- \u666e\u901a\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD INDEX \u7d22\u5f15\u540d\u79f0(\u5217\u540d); -- \u7ec4\u5408\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD INDEX \u7d22\u5f15\u540d\u79f0(\u5217\u540d1,\u5217\u540d2,...); -- \u4e3b\u952e\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD PRIMARY KEY(\u4e3b\u952e\u5217\u540d); -- \u5916\u952e\u7d22\u5f15(\u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u5c31\u662f\u5916\u952e\u7d22\u5f15) ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d FOREIGN KEY (\u672c\u8868\u5916\u952e\u5217\u540d) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u952e\u5217\u540d); -- \u552f\u4e00\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD UNIQUE \u7d22\u5f15\u540d\u79f0(\u5217\u540d); -- \u5168\u6587\u7d22\u5f15 ALTER TABLE \u8868\u540d ADD FULLTEXT \u7d22\u5f15\u540d\u79f0(\u5217\u540d); */ -- \u4e3astudent\u8868\u4e2dname\u5217\u6dfb\u52a0\u5168\u6587\u7d22\u5f15 ALTER TABLE student ADD FULLTEXT idx_fulltext_name(NAME); -- \u67e5\u8be2student\u8868\u7684\u7d22\u5f15 SHOW INDEX FROM student ;","title":"ALTER\u6dfb\u52a0\u7d22\u5f15"},{"location":"MySQL/#_106","text":"/* \u5220\u9664\u7d22\u5f15 \u6807\u51c6\u8bed\u6cd5 DROP INDEX \u7d22\u5f15\u540d\u79f0 ON \u8868\u540d; */ -- \u5220\u9664idx_name\u7d22\u5f15 DROP INDEX idx_name ON student;","title":"\u5220\u9664\u7d22\u5f15"},{"location":"MySQL/#_107","text":"-- \u521b\u5efa product\u5546\u54c1\u8868 CREATE TABLE product ( id INT PRIMARY KEY AUTO_INCREMENT , -- \u5546\u54c1 id NAME VARCHAR ( 10 ), -- \u5546\u54c1\u540d\u79f0 price INT -- \u5546\u54c1\u4ef7\u683c ); -- \u5b9a\u4e49\u5b58\u50a8\u51fd\u6570\uff0c\u751f\u6210\u957f\u5ea6\u4e3a 10 \u7684\u968f\u673a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de DELIMITER $ CREATE FUNCTION rand_string () RETURNS VARCHAR ( 255 ) BEGIN DECLARE big_str VARCHAR ( 100 ) DEFAULT 'abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ' ; DECLARE small_str VARCHAR ( 255 ) DEFAULT '' ; DECLARE i INT DEFAULT 1 ; WHILE i <= 10 DO SET small_str = CONCAT ( small_str , SUBSTRING ( big_str , FLOOR ( 1 + RAND () * 52 ), 1 )); SET i = i + 1 ; END WHILE ; RETURN small_str ; END $ DELIMITER ; -- \u5b9a\u4e49\u5b58\u50a8\u8fc7\u7a0b\uff0c\u6dfb\u52a0 100 \u4e07\u6761\u6570\u636e\u5230 product\u8868\u4e2d DELIMITER $ CREATE PROCEDURE pro_test () BEGIN DECLARE num INT DEFAULT 1 ; WHILE num <= 1000000 DO INSERT INTO product VALUES ( NULL , rand_string (), num ); SET num = num + 1 ; END WHILE ; END $ DELIMITER ; -- \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b CALL pro_test (); -- \u67e5\u8be2\u603b\u8bb0\u5f55\u6761\u6570 SELECT COUNT ( * ) FROM product ; -- \u67e5\u8be2 product\u8868\u7684\u7d22\u5f15 SHOW INDEX FROM product ; -- \u67e5\u8be2 name\u4e3aOkIKDLVwtG\u7684\u6570\u636e ( 0.049 ) SELECT * FROM product WHERE NAME = 'OkIKDLVwtG' ; -- \u901a\u8fc7 id\u5217\u67e5\u8be2OkIKDLVwtG\u7684\u6570\u636e ( 1 \u6beb\u79d2 ) SELECT * FROM product WHERE id = 999998 ; -- \u4e3a name\u5217\u6dfb\u52a0\u7d22\u5f15 ALTER TABLE product ADD INDEX idx_name ( NAME ); -- \u67e5\u8be2 name\u4e3aOkIKDLVwtG\u7684\u6570\u636e ( 0.001 ) SELECT * FROM product WHERE NAME = 'OkIKDLVwtG' ; /* \u8303\u56f4\u67e5\u8be2 */ -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e ( 0.052 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ; /* \u6392\u5e8f\u67e5\u8be2 */ -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e , \u964d\u5e8f\u6392\u5217 ( 0.083 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ORDER BY price DESC ; -- \u4e3a price\u5217\u6dfb\u52a0\u7d22\u5f15 ALTER TABLE product ADD INDEX idx_price ( price ); -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e ( 0.011 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ; -- \u67e5\u8be2\u4ef7\u683c\u4e3a 800 ~ 1000 \u4e4b\u95f4\u7684\u6240\u6709\u6570\u636e , \u964d\u5e8f\u6392\u5217 ( 0.001 ) SELECT * FROM product WHERE price BETWEEN 800 AND 1000 ORDER BY price DESC ;","title":"\u7d22\u5f15\u7684\u6548\u7387\u6d4b\u8bd5"},{"location":"MySQL/#03_3","text":"","title":"03\u9501"},{"location":"MySQL/#innodb","text":"-- \u521b\u5efadb13\u6570\u636e\u5e93 CREATE DATABASE db13; -- \u4f7f\u7528db13\u6570\u636e\u5e93 USE db13; -- \u521b\u5efastudent\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10), age INT, score INT ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO student VALUES (NULL,'\u5f20\u4e09',23,99),(NULL,'\u674e\u56db',24,95), (NULL,'\u738b\u4e94',25,98),(NULL,'\u8d75\u516d',26,97);","title":"InnoDB\u9501\u7684\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#innodb_1","text":"-- \u7a97\u53e31 /* \u5171\u4eab\u9501\uff1a\u6570\u636e\u53ef\u4ee5\u88ab\u591a\u4e2a\u4e8b\u52a1\u67e5\u8be2\uff0c\u4f46\u662f\u4e0d\u80fd\u4fee\u6539 \u521b\u5efa\u9501\u7684\u683c\u5f0f SELECT\u8bed\u53e5 LOCK IN SHARE MODE; */ -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 SELECT * FROM student WHERE id=1 LOCK IN SHARE MODE; -- \u67e5\u8be2\u5206\u6570\u4e3a99\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 SELECT * FROM student WHERE score=99 LOCK IN SHARE MODE; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"InnoDB\u5171\u4eab\u9501_\u7a97\u53e31"},{"location":"MySQL/#innodb_2","text":"-- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002(\u666e\u901a\u67e5\u8be2\u6ca1\u95ee\u9898) SELECT * FROM student WHERE id=1; -- \u67e5\u8be2id\u4e3a1\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501(\u5171\u4eab\u9501\u548c\u5171\u4eab\u9501\u662f\u517c\u5bb9\u7684) SELECT * FROM student WHERE id=1 LOCK IN SHARE MODE; -- \u4fee\u6539id\u4e3a1\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u5f20\u4e09\u4e09(\u4fee\u6539\u5931\u8d25\uff0c\u4f1a\u51fa\u73b0\u9501\u7684\u60c5\u51b5\u3002\u53ea\u6709\u7a97\u53e31\u63d0\u4ea4\u4e8b\u52a1\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE student SET NAME='\u5f20\u4e09\u4e09' WHERE id=1; -- \u4fee\u6539id\u4e3a2\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u674e\u56db\u56db(\u4fee\u6539\u6210\u529f\u3002InnoDB\u5f15\u64ce\u9ed8\u8ba4\u662f\u884c\u9501) UPDATE student SET NAME='\u674e\u56db\u56db' WHERE id=2; -- \u4fee\u6539id\u4e3a3\u7684\u6570\u636e\u3002\u4fee\u6539\u59d3\u540d\u4e3a\u738b\u4e94\u4e94(\u6ce8\u610f\uff1aInnoDB\u5f15\u64ce\u5982\u679c\u4e0d\u91c7\u7528\u5e26\u7d22\u5f15\u7684\u5217\uff0c\u5219\u4f1a\u63d0\u5347\u4e3a\u8868\u9501) UPDATE student SET NAME='\u738b\u4e94\u4e94' WHERE id=3; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT;","title":"InnoDB\u5171\u4eab\u9501_\u7a97\u53e32"},{"location":"MySQL/#innodb_3","text":"-- \u7a97\u53e3 1 /* \u6392\u4ed6\u9501\uff1a\u52a0\u9501\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u52a0\u9501\u67e5\u8be2\u6216\u4fee\u6539 \u6392\u4ed6\u9501\u521b\u5efa\u683c\u5f0f SELECT\u8bed\u53e5 FOR UPDATE; */ -- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u6392\u4ed6\u9501 SELECT * FROM student WHERE id = 1 FOR UPDATE ; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT ;","title":"InnoDB\u6392\u4ed6\u9501_\u7a97\u53e31"},{"location":"MySQL/#innodb_4","text":"-- \u5f00\u542f\u4e8b\u52a1 START TRANSACTION ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002 ( \u666e\u901a\u67e5\u8be2\u6ca1\u95ee\u9898 ) SELECT * FROM student WHERE id = 1 ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u5171\u4eab\u9501 ( \u6392\u4ed6\u9501\u4e0d\u80fd\u548c\u5171\u4eab\u9501\u5171\u5b58 ) SELECT * FROM student WHERE id = 1 LOCK IN SHARE MODE ; -- \u67e5\u8be2 id \u4e3a 1 \u7684\u6570\u636e\u8bb0\u5f55\u3002\u5e76\u4e14\u52a0\u5165\u6392\u4ed6\u9501 ( \u6392\u4ed6\u9501\u548c\u6392\u4ed6\u9501\u4e0d\u80fd\u5171\u5b58 ) SELECT * FROM student WHERE id = 1 FOR UPDATE ; -- \u4fee\u6539 id \u4e3a 1 \u7684\u6570\u636e\u3002\u5c06\u59d3\u540d\u4fee\u6539\u4e3a\u5f20\u4e09\u4e09 ( \u4e0d\u80fd\u4fee\u6539\u3002\u4f1a\u51fa\u73b0\u9501\u7684\u60c5\u51b5\u3002\u53ea\u6709\u7a97\u53e3 1 \u63d0\u4ea4\u4e8b\u52a1\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f ) UPDATE student SET NAME = ' \u5f20\u4e09\u4e09 ' WHERE id = 1 ; -- \u63d0\u4ea4\u4e8b\u52a1 COMMIT ;","title":"InnoDB\u6392\u4ed6\u9501_\u7a97\u53e32"},{"location":"MySQL/#myisam","text":"-- \u521b\u5efaproduct\u8868 CREATE TABLE product( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(20), price INT )ENGINE = MYISAM; -- \u6307\u5b9a\u5b58\u50a8\u5f15\u64ce\u4e3aMyISAM -- \u6dfb\u52a0\u6570\u636e INSERT INTO product VALUES (NULL,'\u534e\u4e3a\u624b\u673a',4999),(NULL,'\u5c0f\u7c73\u624b\u673a',2999), (NULL,'\u82f9\u679c',8999),(NULL,'\u4e2d\u5174',1999);","title":"MYISAM\u9501\u7684\u6570\u636e\u51c6\u5907"},{"location":"MySQL/#myisam_1","text":"/* \u8bfb\u9501\uff1a\u6240\u6709\u8fde\u63a5\u53ea\u80fd\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u80fd\u4fee\u6539 \u52a0\u9501 LOCK TABLE \u8868\u540d READ; \u89e3\u9501(\u5c06\u5f53\u524d\u4f1a\u8bdd\u6240\u6709\u7684\u8868\u8fdb\u884c\u89e3\u9501) UNLOCK TABLES; */ -- \u4e3aproduct\u8868\u6dfb\u52a0\u8bfb\u9501 LOCK TABLE product READ; -- \u67e5\u8be2product\u8868(\u67e5\u8be2\u6210\u529f) SELECT * FROM product; -- \u5c06id\u4e3a1\u7684\u4ef7\u683c\u4fee\u6539\u4e3a5999(\u4e0d\u80fd\u4fee\u6539) UPDATE product SET price=5999 WHERE id=1; -- \u89e3\u9501 UNLOCK TABLES;","title":"MYISAM\u8bfb\u9501_\u7a97\u53e31"},{"location":"MySQL/#myisam_2","text":"-- \u67e5\u8be2product\u8868(\u67e5\u8be2\u6210\u529f) SELECT * FROM product; -- \u5c06id\u4e3a1\u7684\u4ef7\u683c\u4fee\u6539\u4e3a5999(\u4e0d\u80fd\u4fee\u6539\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE product SET price=5999 WHERE id=1;","title":"MYISAM\u8bfb\u9501_\u7a97\u53e32"},{"location":"MySQL/#myisam_3","text":"/* \u5199\u9501\uff1a\u5176\u4ed6\u8fde\u63a5\u4e0d\u80fd\u67e5\u8be2\u548c\u4fee\u6539\u6570\u636e \u52a0\u9501 LOCK TABLE \u8868\u540d WRITE; \u89e3\u9501(\u5c06\u5f53\u524d\u4f1a\u8bdd\u6240\u6709\u7684\u8868\u8fdb\u884c\u89e3\u9501) UNLOCK TABLES; */ -- \u4e3a product\u8868\u6dfb\u52a0\u5199\u9501 LOCK TABLE product WRITE ; -- \u67e5\u8be2 product\u8868 ( \u67e5\u8be2\u6210\u529f ) SELECT * FROM product ; -- \u4fee\u6539 id\u4e3a2\u7684\u4ef7\u683c\u4e3a3999 ( \u4fee\u6539\u6210\u529f ) UPDATE product SET price = 3999 WHERE id = 2 ; -- \u89e3\u9501 UNLOCK TABLES ;","title":"MYISAM\u5199\u9501_\u7a97\u53e31"},{"location":"MySQL/#myisam_4","text":"-- \u67e5\u8be2product\u8868\uff08\u67e5\u8be2\u5931\u8d25\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\uff0c\u624d\u80fd\u67e5\u8be2\u6210\u529f\uff09 SELECT * FROM product; -- \u4fee\u6539id\u4e3a2\u7684\u4ef7\u683c\u4e3a1999(\u4fee\u6539\u5931\u8d25\u3002\u53ea\u6709\u7a97\u53e31\u89e3\u9501\u540e\uff0c\u624d\u80fd\u4fee\u6539\u6210\u529f) UPDATE product SET price=1999 WHERE id=2;","title":"MYISAM\u5199\u9501_\u7a97\u53e32"},{"location":"MySQL/#_108","text":"-- \u521b\u5efacity\u8868 CREATE TABLE city( id INT PRIMARY KEY AUTO_INCREMENT, -- \u57ce\u5e02id NAME VARCHAR(20), -- \u57ce\u5e02\u540d\u79f0 VERSION INT -- \u7248\u672c\u53f7 ); -- \u6dfb\u52a0\u6570\u636e INSERT INTO city VALUES (NULL,'\u5317\u4eac',1),(NULL,'\u4e0a\u6d77',1),(NULL,'\u5e7f\u5dde',1),(NULL,'\u6df1\u5733',1); -- \u5c06\u5317\u4eac\u4fee\u6539\u4e3a\u5317\u4eac\u5e02 -- 1.\u5c06\u5317\u4eac\u7684\u7248\u672c\u53f7\u8bfb\u53d6\u51fa\u6765 SELECT VERSION FROM city WHERE NAME='\u5317\u4eac'; -- 1 -- 2.\u4fee\u6539\u5317\u4eac\u4e3a\u5317\u4eac\u5e02\uff0c\u7248\u672c\u53f7+1.\u5e76\u5bf9\u6bd4\u7248\u672c\u53f7\u662f\u5426\u76f8\u540c UPDATE city SET NAME='\u5317\u4eac\u5e02',VERSION=VERSION+1 WHERE NAME='\u5317\u4eac' AND VERSION=1;","title":"\u4e50\u89c2\u9501"},{"location":"MySQL/#04_2","text":"","title":"04\u4e3b\u4ece\u590d\u5236"},{"location":"MySQL/#__5","text":"-- \u4e3b\u670d\u52a1\u5668\u521b\u5efadb1\u6570\u636e\u5e93,\u4ece\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u540c\u6b65 CREATE DATABASE db1;","title":"\u4e3b\u4ece\u590d\u5236_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#__6","text":"-- \u4ece\u670d\u52a1\u5668\u521b\u5efadb2\u6570\u636e\u5e93,\u4e3b\u670d\u52a1\u5668\u4e0d\u4f1a\u81ea\u52a8\u540c\u6b65 CREATE DATABASE db2;","title":"\u4e3b\u4ece\u590d\u5236_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#05","text":"","title":"05\u8bfb\u5199\u5206\u79bb"},{"location":"MySQL/#_mycat","text":"-- \u521b\u5efa\u5b66\u751f\u8868 CREATE TABLE student( id INT PRIMARY KEY AUTO_INCREMENT, NAME VARCHAR(10) ); -- \u67e5\u8be2\u5b66\u751f\u8868 SELECT * FROM student; -- \u6dfb\u52a0\u4e24\u6761\u8bb0\u5f55 INSERT INTO student VALUES (NULL,'\u5f20\u4e09'),(NULL,'\u674e\u56db'); -- \u505c\u6b62\u4e3b\u4ece\u590d\u5236\u540e\uff0c\u6dfb\u52a0\u7684\u6570\u636e\u53ea\u4f1a\u4fdd\u5b58\u5230\u4e3b\u670d\u52a1\u5668\u4e0a\u3002 INSERT INTO student VALUES (NULL,'\u738b\u4e94');","title":"\u8bfb\u5199\u5206\u79bb_mycat\u64cd\u4f5c"},{"location":"MySQL/#__7","text":"-- \u4e3b\u670d\u52a1\u5668\uff1a\u67e5\u8be2\u5b66\u751f\u8868\uff0c\u53ef\u4ee5\u770b\u5230\u6570\u636e SELECT * FROM student;","title":"\u8bfb\u5199\u5206\u79bb_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#__8","text":"-- \u4ece\u670d\u52a1\u5668\uff1a\u67e5\u8be2\u5b66\u751f\u8868\uff0c\u53ef\u4ee5\u770b\u5230\u6570\u636e(\u56e0\u4e3a\u6709\u4e3b\u4ece\u590d\u5236) SELECT * FROM student; -- \u4ece\u670d\u52a1\u5668\uff1a\u5220\u9664\u4e00\u6761\u8bb0\u5f55\u3002(\u4e3b\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u5220\u9664\uff0cmycat\u4e2d\u95f4\u4ef6\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e) DELETE FROM student WHERE id=2;","title":"\u8bfb\u5199\u5206\u79bb_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#06","text":"","title":"06\u6c34\u5e73\u62c6\u5206"},{"location":"MySQL/#_mycat_1","text":"-- \u521b\u5efa product \u8868 CREATE TABLE product ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 20 ) , price INT ) ; -- \u6dfb\u52a0 6 \u6761\u6570\u636e INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u82f9\u679c\u624b\u673a ' , 6999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u534e\u4e3a\u624b\u673a ' , 5999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u4e09\u661f\u624b\u673a ' , 4999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u5c0f\u7c73\u624b\u673a ' , 3999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u4e2d\u5174\u624b\u673a ' , 2999 ) ; INSERT INTO product ( id , NAME , price ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' OOPO\u624b\u673a ' , 1999 ) ; -- \u67e5\u8be2 product \u8868 SELECT * FROM product ;","title":"\u6c34\u5e73\u62c6\u5206_mycat\u64cd\u4f5c"},{"location":"MySQL/#__9","text":"-- \u5728\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u67e5\u8be2product\u8868 SELECT * FROM product;","title":"\u6c34\u5e73\u62c6\u5206_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#__10","text":"-- \u5728\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u67e5\u8be2product\u8868 SELECT * FROM product;","title":"\u6c34\u5e73\u62c6\u5206_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#07","text":"","title":"07\u5782\u76f4\u62c6\u5206"},{"location":"MySQL/#_mycat_2","text":"-- \u521b\u5efa dog \u8868 CREATE TABLE dog ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO dog ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u54c8\u58eb\u5947 ' ) ; -- \u67e5\u8be2 dog \u8868 SELECT * FROM dog ; -- \u521b\u5efa cat \u8868 CREATE TABLE cat ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO cat ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u6ce2\u65af\u732b ' ) ; -- \u67e5\u8be2 cat \u8868 SELECT * FROM cat ; -- \u521b\u5efa apple \u8868 CREATE TABLE apple ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO apple ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u7ea2\u5bcc\u58eb ' ) ; -- \u67e5\u8be2 apple \u8868 SELECT * FROM apple ; -- \u521b\u5efa banana \u8868 CREATE TABLE banana ( id INT PRIMARY KEY AUTO_INCREMENT , NAME VARCHAR ( 10 ) ) ; -- \u6dfb\u52a0\u6570\u636e INSERT INTO banana ( id , NAME ) VALUES ( NEXT VALUE FOR MYCATSEQ_GLOBAL , ' \u9999\u8549 ' ) ; -- \u67e5\u8be2 banana \u8868 SELECT * FROM banana ;","title":"\u5782\u76f4\u62c6\u5206_mycat\u64cd\u4f5c"},{"location":"MySQL/#__11","text":"-- \u67e5\u8be2dog\u8868 SELECT * FROM dog; -- \u67e5\u8be2cat\u8868 SELECT * FROM cat; -- \u67e5\u8be2apple\u8868 SELECT * FROM apple; -- \u67e5\u8be2banana\u8868 SELECT * FROM banana;","title":"\u5782\u76f4\u62c6\u5206_\u4e3b\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"MySQL/#__12","text":"-- \u67e5\u8be2dog\u8868 SELECT * FROM dog; -- \u67e5\u8be2cat\u8868 SELECT * FROM cat; -- \u67e5\u8be2apple\u8868 SELECT * FROM apple; -- \u67e5\u8be2banana\u8868 SELECT * FROM banana;","title":"\u5782\u76f4\u62c6\u5206_\u4ece\u670d\u52a1\u5668\u64cd\u4f5c"},{"location":"license/","text":"License \u00b6 MIT License The graduate cap icon made by Freepik from www.flaticon.com is licensed by CC 3.0 BY Support Author \u00b6 Amazon wish list","title":"MongoDB"},{"location":"license/#license","text":"MIT License The graduate cap icon made by Freepik from www.flaticon.com is licensed by CC 3.0 BY","title":"License"},{"location":"license/#support_author","text":"Amazon wish list","title":"Support Author"},{"location":"extensions/code-hilite/","text":"CodeHilite \u00b6 CodeHilite - Material for MkDocs Supported languages - Pygments Configure mkdocs.yml \u00b6 markdown_extensions: - codehilite","title":"Code Hilite"},{"location":"extensions/code-hilite/#codehilite","text":"CodeHilite - Material for MkDocs Supported languages - Pygments","title":"CodeHilite"},{"location":"extensions/code-hilite/#configure_mkdocsyml","text":"markdown_extensions: - codehilite","title":"Configure mkdocs.yml"},{"location":"extensions/footnote/","text":"Footnote \u00b6 Footnotes - Material for MkDocs Configure mkdocs.yml \u00b6 markdown_extensions: - footnotes Example \u00b6 Footnote example 1. 1 Footnote example 2. 2 One line \u21a9 First line Second line \u21a9","title":"Footnote"},{"location":"extensions/footnote/#footnote","text":"Footnotes - Material for MkDocs","title":"Footnote"},{"location":"extensions/footnote/#configure_mkdocsyml","text":"markdown_extensions: - footnotes","title":"Configure mkdocs.yml"},{"location":"extensions/footnote/#example","text":"Footnote example 1. 1 Footnote example 2. 2 One line \u21a9 First line Second line \u21a9","title":"Example"},{"location":"extensions/mathjax/","text":"MathJax \u00b6 PyMdown - Material for MkDocs Configure mkdocs.yml \u00b6 markdown_extensions: - mdx_math: enable_dollar_delimiter: True Example code \u00b6 $$ P \\c dot Q = \\| P \\|\\| Q \\|\\c os \\a lpha $$ Example rendering \u00b6 P\\cdot Q = \\|P\\|\\|Q\\|\\cos\\alpha","title":"MathJax"},{"location":"extensions/mathjax/#mathjax","text":"PyMdown - Material for MkDocs","title":"MathJax"},{"location":"extensions/mathjax/#configure_mkdocsyml","text":"markdown_extensions: - mdx_math: enable_dollar_delimiter: True","title":"Configure mkdocs.yml"},{"location":"extensions/mathjax/#example_code","text":"$$ P \\c dot Q = \\| P \\|\\| Q \\|\\c os \\a lpha $$","title":"Example code"},{"location":"extensions/mathjax/#example_rendering","text":"P\\cdot Q = \\|P\\|\\|Q\\|\\cos\\alpha","title":"Example rendering"},{"location":"getting-started/docker/","text":"Start with Docker \u00b6 Public docker image \u00b6 Package mkdocs-material - GitHub peaceiris/mkdocs-material - Docker Hub docker-compose \u00b6 Here is an example docker-compose.yml Please check the latest tag before you go. docker-compose up Go to http://localhost:8000/","title":"Docker"},{"location":"getting-started/docker/#start_with_docker","text":"","title":"Start with Docker"},{"location":"getting-started/docker/#public_docker_image","text":"Package mkdocs-material - GitHub peaceiris/mkdocs-material - Docker Hub","title":"Public docker image"},{"location":"getting-started/docker/#docker-compose","text":"Here is an example docker-compose.yml Please check the latest tag before you go. docker-compose up Go to http://localhost:8000/","title":"docker-compose"},{"location":"getting-started/download-boilerplate/","text":"Download boilerplate \u00b6 Git clone \u00b6 git clone https://github.com/peaceiris/mkdocs-material-boilerplate.git cd mkdocs-material-boilerplate Download zip \u00b6 wget 'https://github.com/peaceiris/mkdocs-material-boilerplate/archive/main.zip' unzip main.zip cd mkdocs-material-boilerplate-main \ud83d\udc49 Click me to download zip","title":"Download boilerplate"},{"location":"getting-started/download-boilerplate/#download_boilerplate","text":"","title":"Download boilerplate"},{"location":"getting-started/download-boilerplate/#git_clone","text":"git clone https://github.com/peaceiris/mkdocs-material-boilerplate.git cd mkdocs-material-boilerplate","title":"Git clone"},{"location":"getting-started/download-boilerplate/#download_zip","text":"wget 'https://github.com/peaceiris/mkdocs-material-boilerplate/archive/main.zip' unzip main.zip cd mkdocs-material-boilerplate-main \ud83d\udc49 Click me to download zip","title":"Download zip"},{"location":"getting-started/invoke/","text":"Serve and open with invoke \u00b6 invoke \u00b6 Invoke is a Python (2.7 and 3.4+) library for managing shell-oriented subprocesses and organizing executable Python code into CLI-invokable tasks. It draws inspiration from various sources (make/rake, Fabric 1.x, etc) to arrive at a powerful & clean feature set. pyinvoke/invoke: Pythonic task management & command execution. Serve and open \u00b6 Run mkdocs serve and open browser automatically. inv serve Serving on localhost:8000 # set IP and port inv serve --dev-addr 'localhost:5000' # set config file inv serve --config-file ./mkdocs-sample.yml Show all tasks \u00b6 $ inv --list Available tasks: serve Serve site and open browser Show task help. $ inv serve --help Usage: inv [ oke ] [ --core-opts ] serve [ --options ] [ other tasks here ... ] Docstring: Serve site and open browser Options: -c STRING, --config-file = STRING Provide a specific MkDocs config -d STRING, --dev-addr = STRING IP address and port to serve documentation locally ( default: localhost:8000 ) Tasks are defined by tasks.py","title":"invoke"},{"location":"getting-started/invoke/#serve_and_open_with_invoke","text":"","title":"Serve and open with invoke"},{"location":"getting-started/invoke/#invoke","text":"Invoke is a Python (2.7 and 3.4+) library for managing shell-oriented subprocesses and organizing executable Python code into CLI-invokable tasks. It draws inspiration from various sources (make/rake, Fabric 1.x, etc) to arrive at a powerful & clean feature set. pyinvoke/invoke: Pythonic task management & command execution.","title":"invoke"},{"location":"getting-started/invoke/#serve_and_open","text":"Run mkdocs serve and open browser automatically. inv serve Serving on localhost:8000 # set IP and port inv serve --dev-addr 'localhost:5000' # set config file inv serve --config-file ./mkdocs-sample.yml","title":"Serve and open"},{"location":"getting-started/invoke/#show_all_tasks","text":"$ inv --list Available tasks: serve Serve site and open browser Show task help. $ inv serve --help Usage: inv [ oke ] [ --core-opts ] serve [ --options ] [ other tasks here ... ] Docstring: Serve site and open browser Options: -c STRING, --config-file = STRING Provide a specific MkDocs config -d STRING, --dev-addr = STRING IP address and port to serve documentation locally ( default: localhost:8000 ) Tasks are defined by tasks.py","title":"Show all tasks"},{"location":"getting-started/pip/","text":"Start with pip (Anaconda, Miniconda) \u00b6 pip install -r requirements.txt pip install -r requirements-dev.txt inv command is also available.","title":"pip"},{"location":"getting-started/pip/#start_with_pip_anaconda_miniconda","text":"pip install -r requirements.txt pip install -r requirements-dev.txt inv command is also available.","title":"Start with pip (Anaconda, Miniconda)"},{"location":"getting-started/pipenv/","text":"Start with pipenv \u00b6 pipenv \u00b6 Pipenv is a tool that aims to bring the best of all packaging worlds (bundler, composer, npm, cargo, yarn, etc.) to the Python world. pypa/pipenv: Python Development Workflow for Humans. Install all packages \u00b6 pipenv sync --dev # Installs all packages specified in Pipfile.lock. Run MkDocs \u00b6 pipenv shell # Spawns a shell within the virtualenv. mkdocs serve Or, run mkdocs with pipenv run pipenv run mkdocs serve pipenv run \u00b6 pipenv task are also defined by Pipfile pipenv run version # mkdocs --version pipenv run help # mkdocs --help pipenv run inv serve # inv serve pipenv run serve # mkdocs serve pipenv run build # mkdocs build pipenv run deploy # mkdocs gh-deploy","title":"pipenv"},{"location":"getting-started/pipenv/#start_with_pipenv","text":"","title":"Start with pipenv"},{"location":"getting-started/pipenv/#pipenv","text":"Pipenv is a tool that aims to bring the best of all packaging worlds (bundler, composer, npm, cargo, yarn, etc.) to the Python world. pypa/pipenv: Python Development Workflow for Humans.","title":"pipenv"},{"location":"getting-started/pipenv/#install_all_packages","text":"pipenv sync --dev # Installs all packages specified in Pipfile.lock.","title":"Install all packages"},{"location":"getting-started/pipenv/#run_mkdocs","text":"pipenv shell # Spawns a shell within the virtualenv. mkdocs serve Or, run mkdocs with pipenv run pipenv run mkdocs serve","title":"Run MkDocs"},{"location":"getting-started/pipenv/#pipenv_run","text":"pipenv task are also defined by Pipfile pipenv run version # mkdocs --version pipenv run help # mkdocs --help pipenv run inv serve # inv serve pipenv run serve # mkdocs serve pipenv run build # mkdocs build pipenv run deploy # mkdocs gh-deploy","title":"pipenv run"},{"location":"hosting-and-deployment/aws-amplify-console/","text":"Host on AWS Amplify Console \u00b6 AWS Amplify Console You can use Password protection each branch. Use the following build specification YML file. mkdocs-material-boilerplate/amplify.yml","title":"AWS Amplify Console"},{"location":"hosting-and-deployment/aws-amplify-console/#host_on_aws_amplify_console","text":"AWS Amplify Console You can use Password protection each branch. Use the following build specification YML file. mkdocs-material-boilerplate/amplify.yml","title":"Host on AWS Amplify Console"},{"location":"hosting-and-deployment/combinations/","text":"Hosting and Deployment \u00b6 GitHub Pages and GitHub \u00b6 Host source code on GitHub. Build and deploy with: mkdocs gh-deploy GitHub Actions GitLab Pages and GitLab \u00b6 Host source code on GitLab. Build and deploy with GitLab CI/CD. Netlify \u00b6 Host source code on: GitHub GitLab BitBucket Build and deploy with Netlify. AWS Amplify Console \u00b6 Host source code on: GitHub GitLab BitBucket AWS CodeCommit Build and deploy with AWS Amplify Console.","title":"Combinations"},{"location":"hosting-and-deployment/combinations/#hosting_and_deployment","text":"","title":"Hosting and Deployment"},{"location":"hosting-and-deployment/combinations/#github_pages_and_github","text":"Host source code on GitHub. Build and deploy with: mkdocs gh-deploy GitHub Actions","title":"GitHub Pages and GitHub"},{"location":"hosting-and-deployment/combinations/#gitlab_pages_and_gitlab","text":"Host source code on GitLab. Build and deploy with GitLab CI/CD.","title":"GitLab Pages and GitLab"},{"location":"hosting-and-deployment/combinations/#netlify","text":"Host source code on: GitHub GitLab BitBucket Build and deploy with Netlify.","title":"Netlify"},{"location":"hosting-and-deployment/combinations/#aws_amplify_console","text":"Host source code on: GitHub GitLab BitBucket AWS CodeCommit Build and deploy with AWS Amplify Console.","title":"AWS Amplify Console"},{"location":"hosting-and-deployment/github-pages/","text":"Host on GitHub Pages \u00b6 Demo site on GitHub Pages (build & deploy with GitHub Actions) Build and deploy with GitHub Actions \u00b6 peaceiris/actions-gh-pages: GitHub Actions for deploying to GitHub Pages with Static Site Generators Go to the repository and read the latest README.md for more details. Build and deploy with mkdocs gh-deploy \u00b6 pipenv \u00b6 pipenv run deploy # OR pipenv shell mkdocs gh-deploy # OR pipenv run mkdocs gh-deploy","title":"GitHub Pages"},{"location":"hosting-and-deployment/github-pages/#host_on_github_pages","text":"Demo site on GitHub Pages (build & deploy with GitHub Actions)","title":"Host on GitHub Pages"},{"location":"hosting-and-deployment/github-pages/#build_and_deploy_with_github_actions","text":"peaceiris/actions-gh-pages: GitHub Actions for deploying to GitHub Pages with Static Site Generators Go to the repository and read the latest README.md for more details.","title":"Build and deploy with GitHub Actions"},{"location":"hosting-and-deployment/github-pages/#build_and_deploy_with_mkdocs_gh-deploy","text":"","title":"Build and deploy with mkdocs gh-deploy"},{"location":"hosting-and-deployment/github-pages/#pipenv","text":"pipenv run deploy # OR pipenv shell mkdocs gh-deploy # OR pipenv run mkdocs gh-deploy","title":"pipenv"},{"location":"hosting-and-deployment/gitlab-pages/","text":"Host on GitLab Pages \u00b6 See .gitlab-ci.yml","title":"GitLab Pages"},{"location":"hosting-and-deployment/gitlab-pages/#host_on_gitlab_pages","text":"See .gitlab-ci.yml","title":"Host on GitLab Pages"},{"location":"hosting-and-deployment/netlify/","text":"Host on Netlify \u00b6 Demo site on Netlify (build & deploy with Netlify) Create GitHub repository and deploy to Netlify with the following button in 1 min.","title":"Netlify"},{"location":"hosting-and-deployment/netlify/#host_on_netlify","text":"Demo site on Netlify (build & deploy with Netlify) Create GitHub repository and deploy to Netlify with the following button in 1 min.","title":"Host on Netlify"}]}